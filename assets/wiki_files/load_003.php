mw.loader.implement("ext.eventLogging",function(){(function(mw,$,console){'use strict';function ValidationError(message){this.message=message;}ValidationError.prototype=new Error();var self=mw.eventLog={schemas:{},warn:console&&$.isFunction(console.warn)?$.proxy(console.warn,console):mw.log,declareSchema:function(schemaName,meta){if(self.schemas.hasOwnProperty(schemaName)){self.warn('Clobbering existing "'+schemaName+'" schema');}self.schemas[schemaName]=$.extend(true,{revision:-1,schema:{properties:{}},defaults:{}},self.schemas[schemaName],meta);return self.schemas[schemaName];},isInstanceOf:function(value,type){if(value===undefined||value===null){return false;}switch(type){case'string':return typeof value==='string';case'timestamp':return value instanceof Date||(typeof value==='number'&&value>=0&&value%1===0);case'boolean':return typeof value==='boolean';case'integer':return typeof value==='number'&&value%1===0;case'number':return typeof value==='number'&&isFinite(value);default:
return false;}},isValid:function(event,schemaName){try{self.assertValid(event,schemaName);return true;}catch(e){if(!(e instanceof ValidationError)){throw e;}self.warn(e.message);return false;}},assertValid:function(event,schemaName){var schema=self.schemas[schemaName]||null,props=schema.schema.properties,prop;if($.isEmpty(props)){throw new ValidationError('Unknown schema: '+schemaName);}for(prop in event){if(props[prop]===undefined){throw new ValidationError('Unrecognized property: '+prop);}}$.each(props,function(prop,desc){var val=event[prop];if(val===undefined){if(desc.required){throw new ValidationError('Missing property: '+prop);}return true;}if(!(self.isInstanceOf(val,desc.type))){throw new ValidationError('Wrong type for property: '+prop+' '+val);}if(desc['enum']&&$.inArray(val,desc['enum'])===-1){throw new ValidationError('Value "'+val+'" for property: '+prop+' not in enum '+$.toJSON(desc['enum']));}});return true;},setDefaults:function(schemaName,schemaDefaults){var schema=self
.schemas[schemaName];if(schema===undefined){self.warn('Setting defaults on unknown schema "'+schemaName+'"');schema=self.declareSchema(schemaName);}return $.extend(true,schema.defaults,schemaDefaults);},prepare:function(schemaName,event){var prop,schema=self.schemas[schemaName];if(schema===undefined){self.warn('Got event with unknown schema "'+schemaName+'"');schema=self.declareSchema(schemaName);}event=$.extend(true,{},schema.defaults,event);for(prop in event){if(typeof event[prop]==='function'){event[prop]=event[prop].call(event);}}return{event:event,clientValidated:self.isValid(event,schemaName),revision:schema.revision,schema:schemaName,webHost:window.location.hostname,wiki:mw.config.get('wgDBname')};},dispatch:function(data){var beacon=document.createElement('img'),baseUri=mw.config.get('wgEventLoggingBaseUri'),dfd=$.Deferred();if(!baseUri){dfd.rejectWith(data,[data]);return dfd.promise();}$(beacon).on('error',function(){dfd.resolveWith(data,[data]);});beacon.src=baseUri+'?'+
encodeURIComponent($.toJSON(data))+';';return dfd.promise();},logEvent:function(schemaName,eventInstance){return self.dispatch(self.prepare(schemaName,eventInstance));}};self.setSchema=self.declareSchema;if(!mw.config.get('wgEventLoggingBaseUri')){self.warn('"$wgEventLoggingBaseUri" is not set.');}}(mediaWiki,jQuery,window.console));;},{},{});mw.loader.implement("ext.navigationTiming",function(){(function(mw,$){'use strict';var timing=window.performance?performance.timing:null;function inSample(){var factor=mw.config.get('wgNavigationTimingSamplingFactor');if(!$.isNumeric(factor)||factor<1){return false;}return Math.floor(Math.random()*factor)===0;}function emitTiming(){var navStart=timing.navigationStart||timing.fetchStart,event={userAgent:navigator.userAgent,isHttps:location.protocol==='https:',isAnon:mw.config.get('wgUserId')===null},page={pageId:mw.config.get('wgArticleId'),revId:mw.config.get('wgCurRevisionId'),action:mw.config.get('wgAction')};if($.isPlainObject(window.Geo)&&
typeof Geo.country==='string'){event.originCountry=Geo.country;}$.each({dnsLookup:timing.domainLookupEnd-timing.domainLookupStart,connecting:timing.connectEnd-timing.connectStart,sending:timing.fetchStart-navStart,waiting:timing.responseStart-timing.requestStart,receiving:timing.responseEnd-timing.responseStart,rendering:timing.loadEventEnd-timing.responseEnd,loading:timing.loadEventStart-navStart},function(k,v){if($.isNumeric(v)&&v>0){event[k]=v;}});if(timing.redirectStart){event.redirectCount=performance.navigation.redirectCount;event.redirecting=timing.redirectEnd-timing.redirectStart;}if(page.revId){$.extend(event,page);}if(mw.mobileFrontend&&mw.config.exists('wgMFMode')){event.mobileMode=mw.config.get('wgMFMode');}mw.eventLog.logEvent('NavigationTiming',event);}if(timing&&inSample()&&!/Firefox\/[78]/.test(navigator.userAgent)){$(window).load(function(){setTimeout(emitTiming,0);});}}(mediaWiki,jQuery));;},{},{});mw.loader.implement("jquery.hidpi",function(){(function($){$.
devicePixelRatio=function(){if(window.devicePixelRatio!==undefined){return window.devicePixelRatio;}else if(window.msMatchMedia!==undefined){if(window.msMatchMedia('(min-resolution: 192dpi)').matches){return 2;}else if(window.msMatchMedia('(min-resolution: 144dpi)').matches){return 1.5;}else{return 1;}}else{return 1;}};$.fn.hidpi=function(){var $target=this,devicePixelRatio=$.devicePixelRatio(),testImage=new Image();if(devicePixelRatio>1&&testImage.srcset===undefined){$target.find('img').each(function(){var $img=$(this),srcset=$img.attr('srcset'),match;if(typeof srcset==='string'&&srcset!==''){match=$.matchSrcSet(devicePixelRatio,srcset);if(match!==null){$img.attr('src',match);}}});}return $target;};$.matchSrcSet=function(devicePixelRatio,srcset){var candidates,candidate,bits,src,i,ratioStr,ratio,selectedRatio=1,selectedSrc=null;candidates=srcset.split(/ *, */);for(i=0;i<candidates.length;i++){candidate=candidates[i];bits=candidate.split(/ +/);src=bits[0];if(bits.length>1&&bits[1].
charAt(bits[1].length-1)==='x'){ratioStr=bits[1].substr(0,bits[1].length-1);ratio=parseFloat(ratioStr);if(ratio<=devicePixelRatio&&ratio>selectedRatio){selectedRatio=ratio;selectedSrc=src;}}}return selectedSrc;};}(jQuery));;},{},{});mw.loader.implement("jquery.json",function(){(function($){'use strict';var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},hasOwn=Object.prototype.hasOwnProperty;$.toJSON=typeof JSON==='object'&&JSON.stringify?JSON.stringify:function(o){if(o===null){return'null';}var pairs,k,name,val,type=$.type(o);if(type==='undefined'){return undefined;}if(type==='number'||type==='boolean'){return String(o);}if(type==='string'){return $.quoteString(o);}if(typeof o.toJSON==='function'){return $.toJSON(o.toJSON());}if(type==='date'){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();
if(month<10){month='0'+month;}if(day<10){day='0'+day;}if(hours<10){hours='0'+hours;}if(minutes<10){minutes='0'+minutes;}if(seconds<10){seconds='0'+seconds;}if(milli<100){milli='0'+milli;}if(milli<10){milli='0'+milli;}return'"'+year+'-'+month+'-'+day+'T'+hours+':'+minutes+':'+seconds+'.'+milli+'Z"';}pairs=[];if($.isArray(o)){for(k=0;k<o.length;k++){pairs.push($.toJSON(o[k])||'null');}return'['+pairs.join(',')+']';}if(typeof o==='object'){for(k in o){if(hasOwn.call(o,k)){type=typeof k;if(type==='number'){name='"'+k+'"';}else if(type==='string'){name=$.quoteString(k);}else{continue;}type=typeof o[k];if(type!=='function'&&type!=='undefined'){val=$.toJSON(o[k]);pairs.push(name+':'+val);}}}return'{'+pairs.join(',')+'}';}};$.evalJSON=typeof JSON==='object'&&JSON.parse?JSON.parse:function(str){return eval('('+str+')');};$.secureEvalJSON=typeof JSON==='object'&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,'@').replace(
/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,'');if(/^[\],:{}\s]*$/.test(filtered)){return eval('('+str+')');}throw new SyntaxError('Error parsing JSON, source is not valid.');};$.quoteString=function(str){if(str.match(escape)){return'"'+str.replace(escape,function(a){var c=meta[a];if(typeof c==='string'){return c;}c=a.charCodeAt();return'\\u00'+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}return'"'+str+'"';};}(jQuery));;},{},{});mw.loader.implement("mediawiki.cldr",function(){(function(mw){'use strict';var cldr={getPluralForm:function(number,pluralRules){var i;for(i=0;i<pluralRules.length;i++){if(mw.libs.pluralRuleParser(pluralRules[i],number)){break;}}return i;}};mw.cldr=cldr;}(mediaWiki));;},{},{});mw.loader.implement("mediawiki.hidpi",function(){jQuery(function($){$('body').hidpi();});;},{},{});mw.loader.implement("mediawiki.jqueryMsg",function(){(function(mw,$){var oldParser,slice=Array.prototype.slice,
parserDefaults={magic:{'SITENAME':mw.config.get('wgSiteName')},allowedHtmlElements:['b','i'],allowedHtmlCommonAttributes:['id','class','style','lang','dir','title','role'],allowedHtmlAttributesByElement:{},messages:mw.messages,language:mw.language,format:'parse'};function appendWithoutParsing($parent,children){var i,len;if(!$.isArray(children)){children=[children];}for(i=0,len=children.length;i<len;i++){if(typeof children[i]!=='object'){children[i]=document.createTextNode(children[i]);}}return $parent.append(children);}function decodePrimaryHtmlEntities(encoded){return encoded.replace(/&#039;/g,'\'').replace(/&quot;/g,'"').replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&');}function getFailableParserFn(options){var parser=new mw.jqueryMsg.parser(options);return function(args){var key=args[0],argsArray=$.isArray(args[1])?args[1]:slice.call(args,1);try{return parser.parse(key,argsArray);}catch(e){return $('<span>').text(key+': '+e.message);}};}mw.jqueryMsg={};mw.jqueryMsg.
getMessageFunction=function(options){var failableParserFn=getFailableParserFn(options),format;if(options&&options.format!==undefined){format=options.format;}else{format=parserDefaults.format;}return function(){var failableResult=failableParserFn(arguments);if(format==='text'||format==='escaped'){return failableResult.text();}else{return failableResult.html();}};};mw.jqueryMsg.getPlugin=function(options){var failableParserFn=getFailableParserFn(options);return function(){var $target=this.empty();$.each(failableParserFn(arguments).contents(),function(i,node){appendWithoutParsing($target,node);});return $target;};};mw.jqueryMsg.parser=function(options){this.settings=$.extend({},parserDefaults,options);this.settings.onlyCurlyBraceTransform=(this.settings.format==='text'||this.settings.format==='escaped');this.emitter=new mw.jqueryMsg.htmlEmitter(this.settings.language,this.settings.magic);};mw.jqueryMsg.parser.prototype={astCache:{},parse:function(key,replacements){return this.emitter.emit
(this.getAst(key),replacements);},getAst:function(key){var cacheKey=[key,this.settings.onlyCurlyBraceTransform].join(':'),wikiText;if(this.astCache[cacheKey]===undefined){wikiText=this.settings.messages.get(key);if(typeof wikiText!=='string'){wikiText='\\['+key+'\\]';}this.astCache[cacheKey]=this.wikiTextToAst(wikiText);}return this.astCache[cacheKey];},wikiTextToAst:function(input){var pos,settings=this.settings,concat=Array.prototype.concat,regularLiteral,regularLiteralWithoutBar,regularLiteralWithoutSpace,regularLiteralWithSquareBrackets,doubleQuote,singleQuote,backslash,anyCharacter,asciiAlphabetLiteral,escapedOrLiteralWithoutSpace,escapedOrLiteralWithoutBar,escapedOrRegularLiteral,whitespace,dollar,digits,htmlDoubleQuoteAttributeValue,htmlSingleQuoteAttributeValue,htmlAttributeEquals,openHtmlStartTag,optionalForwardSlash,openHtmlEndTag,closeHtmlTag,openExtlink,closeExtlink,wikilinkPage,wikilinkContents,openWikilink,closeWikilink,templateName,pipe,colon,templateContents,
openTemplate,closeTemplate,nonWhitespaceExpression,paramExpression,expression,curlyBraceTransformExpression,result;pos=0;function choice(ps){return function(){var i,result;for(i=0;i<ps.length;i++){result=ps[i]();if(result!==null){return result;}}return null;};}function sequence(ps){var i,res,originalPos=pos,result=[];for(i=0;i<ps.length;i++){res=ps[i]();if(res===null){pos=originalPos;return null;}result.push(res);}return result;}function nOrMore(n,p){return function(){var originalPos=pos,result=[],parsed=p();while(parsed!==null){result.push(parsed);parsed=p();}if(result.length<n){pos=originalPos;return null;}return result;};}function transform(p,fn){return function(){var result=p();return result===null?null:fn(result);};}function makeStringParser(s){var len=s.length;return function(){var result=null;if(input.substr(pos,len)===s){result=s;pos+=len;}return result;};}function makeRegexParser(regex){return function(){var matches=input.substr(pos).match(regex);if(matches===null){return null
;}pos+=matches[0].length;return matches[0];};}regularLiteral=makeRegexParser(/^[^{}\[\]$<\\]/);regularLiteralWithoutBar=makeRegexParser(/^[^{}\[\]$\\|]/);regularLiteralWithoutSpace=makeRegexParser(/^[^{}\[\]$\s]/);regularLiteralWithSquareBrackets=makeRegexParser(/^[^{}$\\]/);backslash=makeStringParser('\\');doubleQuote=makeStringParser('"');singleQuote=makeStringParser('\'');anyCharacter=makeRegexParser(/^./);openHtmlStartTag=makeStringParser('<');optionalForwardSlash=makeRegexParser(/^\/?/);openHtmlEndTag=makeStringParser('</');htmlAttributeEquals=makeRegexParser(/^\s*=\s*/);closeHtmlTag=makeRegexParser(/^\s*>/);function escapedLiteral(){var result=sequence([backslash,anyCharacter]);return result===null?null:result[1];}escapedOrLiteralWithoutSpace=choice([escapedLiteral,regularLiteralWithoutSpace]);escapedOrLiteralWithoutBar=choice([escapedLiteral,regularLiteralWithoutBar]);escapedOrRegularLiteral=choice([escapedLiteral,regularLiteral]);function literalWithoutSpace(){var result=
nOrMore(1,escapedOrLiteralWithoutSpace)();return result===null?null:result.join('');}function literalWithoutBar(){var result=nOrMore(1,escapedOrLiteralWithoutBar)();return result===null?null:result.join('');}function unescapedLiteralWithoutBar(){var result=nOrMore(1,regularLiteralWithoutBar)();return result===null?null:result.join('');}function literal(){var result=nOrMore(1,escapedOrRegularLiteral)();return result===null?null:result.join('');}function curlyBraceTransformExpressionLiteral(){var result=nOrMore(1,regularLiteralWithSquareBrackets)();return result===null?null:result.join('');}asciiAlphabetLiteral=makeRegexParser(/[A-Za-z]+/);htmlDoubleQuoteAttributeValue=makeRegexParser(/^[^"]*/);htmlSingleQuoteAttributeValue=makeRegexParser(/^[^']*/);whitespace=makeRegexParser(/^\s+/);dollar=makeStringParser('$');digits=makeRegexParser(/^\d+/);function replacement(){var result=sequence([dollar,digits]);if(result===null){return null;}return['REPLACE',parseInt(result[1],10)-1];}openExtlink=
makeStringParser('[');closeExtlink=makeStringParser(']');function extlink(){var result,parsedResult;result=null;parsedResult=sequence([openExtlink,nonWhitespaceExpression,whitespace,nOrMore(1,expression),closeExtlink]);if(parsedResult!==null){result=['EXTLINK',parsedResult[1]];if(parsedResult[3].length===1){result.push(parsedResult[3][0]);}else{result.push(['CONCAT'].concat(parsedResult[3]));}}return result;}function extLinkParam(){var result=sequence([openExtlink,dollar,digits,whitespace,expression,closeExtlink]);if(result===null){return null;}return['EXTLINKPARAM',parseInt(result[2],10)-1,result[4]];}openWikilink=makeStringParser('[[');closeWikilink=makeStringParser(']]');pipe=makeStringParser('|');function template(){var result=sequence([openTemplate,templateContents,closeTemplate]);return result===null?null:result[1];}wikilinkPage=choice([unescapedLiteralWithoutBar,template]);function pipedWikilink(){var result=sequence([wikilinkPage,pipe,expression]);return result===null?null:[
result[0],result[2]];}wikilinkContents=choice([pipedWikilink,wikilinkPage]);function wikilink(){var result,parsedResult,parsedLinkContents;result=null;parsedResult=sequence([openWikilink,wikilinkContents,closeWikilink]);if(parsedResult!==null){parsedLinkContents=parsedResult[1];result=['WIKILINK'].concat(parsedLinkContents);}return result;}function doubleQuotedHtmlAttributeValue(){var parsedResult=sequence([doubleQuote,htmlDoubleQuoteAttributeValue,doubleQuote]);return parsedResult===null?null:parsedResult[1];}function singleQuotedHtmlAttributeValue(){var parsedResult=sequence([singleQuote,htmlSingleQuoteAttributeValue,singleQuote]);return parsedResult===null?null:parsedResult[1];}function htmlAttribute(){var parsedResult=sequence([whitespace,asciiAlphabetLiteral,htmlAttributeEquals,choice([doubleQuotedHtmlAttributeValue,singleQuotedHtmlAttributeValue])]);return parsedResult===null?null:[parsedResult[1],parsedResult[3]];}function isAllowedHtml(startTagName,endTagName,attributes){var i,
len,attributeName;startTagName=startTagName.toLowerCase();endTagName=endTagName.toLowerCase();if(startTagName!==endTagName||$.inArray(startTagName,settings.allowedHtmlElements)===-1){return false;}for(i=0,len=attributes.length;i<len;i+=2){attributeName=attributes[i];if($.inArray(attributeName,settings.allowedHtmlCommonAttributes)===-1&&$.inArray(attributeName,settings.allowedHtmlAttributesByElement[startTagName]||[])===-1){return false;}}return true;}function htmlAttributes(){var parsedResult=nOrMore(0,htmlAttribute)();return concat.apply(['HTMLATTRIBUTES'],parsedResult);}function html(){var result=null,parsedOpenTagResult,parsedHtmlContents,parsedCloseTagResult,wrappedAttributes,attributes,startTagName,endTagName,startOpenTagPos,startCloseTagPos,endOpenTagPos,endCloseTagPos;startOpenTagPos=pos;parsedOpenTagResult=sequence([openHtmlStartTag,asciiAlphabetLiteral,htmlAttributes,optionalForwardSlash,closeHtmlTag]);if(parsedOpenTagResult===null){return null;}endOpenTagPos=pos;startTagName=
parsedOpenTagResult[1];parsedHtmlContents=nOrMore(0,expression)();startCloseTagPos=pos;parsedCloseTagResult=sequence([openHtmlEndTag,asciiAlphabetLiteral,closeHtmlTag]);if(parsedCloseTagResult===null){return['CONCAT',input.substring(startOpenTagPos,endOpenTagPos)].concat(parsedHtmlContents);}endCloseTagPos=pos;endTagName=parsedCloseTagResult[1];wrappedAttributes=parsedOpenTagResult[2];attributes=wrappedAttributes.slice(1);if(isAllowedHtml(startTagName,endTagName,attributes)){result=['HTMLELEMENT',startTagName,wrappedAttributes].concat(parsedHtmlContents);}else{result=['CONCAT',input.substring(startOpenTagPos,endOpenTagPos)].concat(parsedHtmlContents,input.substring(startCloseTagPos,endCloseTagPos));}return result;}templateName=transform(makeRegexParser(/^[ !"$&'()*,.\/0-9;=?@A-Z\^_`a-z~\x80-\xFF+\-]+/),function(result){return result.toString();});function templateParam(){var expr,result;result=sequence([pipe,nOrMore(0,paramExpression)]);if(result===null){return null;}expr=result[1];
return expr.length>1?['CONCAT'].concat(expr):expr[0];}function templateWithReplacement(){var result=sequence([templateName,colon,replacement]);return result===null?null:[result[0],result[2]];}function templateWithOutReplacement(){var result=sequence([templateName,colon,paramExpression]);return result===null?null:[result[0],result[2]];}colon=makeStringParser(':');templateContents=choice([function(){var res=sequence([choice([templateWithReplacement,templateWithOutReplacement]),nOrMore(0,templateParam)]);return res===null?null:res[0].concat(res[1]);},function(){var res=sequence([templateName,nOrMore(0,templateParam)]);if(res===null){return null;}return[res[0]].concat(res[1]);}]);openTemplate=makeStringParser('{{');closeTemplate=makeStringParser('}}');nonWhitespaceExpression=choice([template,wikilink,extLinkParam,extlink,replacement,literalWithoutSpace]);paramExpression=choice([template,wikilink,extLinkParam,extlink,replacement,literalWithoutBar]);expression=choice([template,wikilink,
extLinkParam,extlink,replacement,html,literal]);curlyBraceTransformExpression=choice([template,replacement,curlyBraceTransformExpressionLiteral]);function start(rootExpression){var result=nOrMore(0,rootExpression)();if(result===null){return null;}return['CONCAT'].concat(result);}result=start(this.settings.onlyCurlyBraceTransform?curlyBraceTransformExpression:expression);if(result===null||pos!==input.length){throw new Error('Parse error at position '+pos.toString()+' in input: '+input);}return result;}};mw.jqueryMsg.htmlEmitter=function(language,magic){this.language=language;var jmsg=this;$.each(magic,function(key,val){jmsg[key.toLowerCase()]=function(){return val;};});this.emit=function(node,replacements){var ret,subnodes,operation,jmsg=this;switch(typeof node){case'string':case'number':ret=node;break;case'object':subnodes=$.map(node.slice(1),function(n){return jmsg.emit(n,replacements);});operation=node[0].toLowerCase();if(typeof jmsg[operation]==='function'){ret=jmsg[operation](
subnodes,replacements);}else{throw new Error('Unknown operation "'+operation+'"');}break;case'undefined':ret='';break;default:throw new Error('Unexpected type in AST: '+typeof node);}return ret;};};mw.jqueryMsg.htmlEmitter.prototype={concat:function(nodes){var $span=$('<span>').addClass('mediaWiki_htmlEmitter');$.each(nodes,function(i,node){if(node instanceof jQuery&&node.hasClass('mediaWiki_htmlEmitter')){$.each(node.contents(),function(j,childNode){appendWithoutParsing($span,childNode);});}else{appendWithoutParsing($span,node);}});return $span;},replace:function(nodes,replacements){var index=parseInt(nodes[0],10);if(index<replacements.length){return replacements[index];}else{return'$'+(index+1);}},wikilink:function(nodes){var page,anchor,url;page=nodes[0];url=mw.util.wikiGetlink(page);if(nodes.length===1){anchor=page;}else{anchor=nodes[1];}return $('<a />').attr({title:page,href:url}).text(anchor);},htmlattributes:function(nodes){var i,len,mapping={};for(i=0,len=nodes.length;i<len;i
+=2){mapping[nodes[i]]=decodePrimaryHtmlEntities(nodes[i+1]);}return mapping;},htmlelement:function(nodes){var tagName,attributes,contents,$element;tagName=nodes.shift();attributes=nodes.shift();contents=nodes;$element=$(document.createElement(tagName)).attr(attributes);return appendWithoutParsing($element,contents);},extlink:function(nodes){var $el,arg=nodes[0],contents=nodes[1];if(arg instanceof jQuery){$el=arg;}else{$el=$('<a>');if(typeof arg==='function'){$el.click(arg).attr('href','#');}else{$el.attr('href',arg.toString());}}return appendWithoutParsing($el,contents);},extlinkparam:function(nodes,replacements){var replacement,index=parseInt(nodes[0],10);if(index<replacements.length){replacement=replacements[index];}else{replacement='$'+(index+1);}return this.extlink([replacement,nodes[1]]);},plural:function(nodes){var forms,count;count=parseFloat(this.language.convertNumber(nodes[0],true));forms=nodes.slice(1);return forms.length?this.language.convertPlural(count,forms):'';},gender
:function(nodes){var gender,forms;if(nodes[0]&&nodes[0].options instanceof mw.Map){gender=nodes[0].options.get('gender');}else{gender=nodes[0];}forms=nodes.slice(1);return this.language.gender(gender,forms);},grammar:function(nodes){var form=nodes[0],word=nodes[1];return word&&form&&this.language.convertGrammar(word,form);},int:function(nodes){return mw.jqueryMsg.getMessageFunction()(nodes[0].toLowerCase());},formatnum:function(nodes){var isInteger=(nodes[1]&&nodes[1]==='R')?true:false,number=nodes[0];return this.language.convertNumber(number,isInteger);}};window.gM=mw.jqueryMsg.getMessageFunction();$.fn.msg=mw.jqueryMsg.getPlugin();oldParser=mw.Message.prototype.parser;mw.Message.prototype.parser=function(){var messageFunction;if(this.format==='plain'||!/\{\{|[\[<>]/.test(this.map.get(this.key))){return oldParser.apply(this);}messageFunction=mw.jqueryMsg.getMessageFunction({'messages':this.map,'format':this.format});return messageFunction(this.key,this.parameters);};}(mediaWiki,jQuery
));;},{},{});mw.loader.implement("mediawiki.language",function(){(function(mw,$){var language={procPLURAL:function(template){if(template.title&&template.parameters&&mw.language.convertPlural){if(template.parameters.length===0){return'';}var count=mw.language.convertNumber(template.title,true);return mw.language.convertPlural(parseInt(count,10),template.parameters);}if(template.parameters[0]){return template.parameters[0];}return'';},convertPlural:function(count,forms){var pluralRules,pluralFormIndex=0;if(!forms||forms.length===0){return'';}pluralRules=mw.language.getData(mw.config.get('wgUserLanguage'),'pluralRules');if(!pluralRules){return(count===1)?forms[0]:forms[1];}pluralFormIndex=mw.cldr.getPluralForm(count,pluralRules);pluralFormIndex=Math.min(pluralFormIndex,forms.length-1);return forms[pluralFormIndex];},preConvertPlural:function(forms,count){while(forms.length<count){forms.push(forms[forms.length-1]);}return forms;},gender:function(gender,forms){if(!forms||forms.length===0){
return'';}forms=mw.language.preConvertPlural(forms,2);if(gender==='male'){return forms[0];}if(gender==='female'){return forms[1];}return(forms.length===3)?forms[2]:forms[0];},convertGrammar:function(word,form){var grammarForms=mw.language.getData(mw.config.get('wgUserLanguage'),'grammarForms');if(grammarForms&&grammarForms[form]){return grammarForms[form][word]||word;}return word;}};$.extend(mw.language,language);}(mediaWiki,jQuery));(function(mw,$){function pad(text,size,ch,end){if(!ch){ch='0';}var out=String(text),padStr=replicate(ch,Math.ceil((size-out.length)/ch.length));return end?out+padStr:padStr+out;}function replicate(str,num){if(num<=0||!str){return'';}var buf=[];while(num){buf.push(str);str+=str;}return buf.join('');}function commafyNumber(value,pattern,options){options=options||{group:',',decimal:'.'};if(isNaN(value)){return value;}var padLength,patternDigits,index,whole,off,remainder,patternParts=pattern.split('.'),maxPlaces=(patternParts[1]||[]).length,valueParts=String(
Math.abs(value)).split('.'),fractional=valueParts[1]||'',groupSize=0,groupSize2=0,pieces=[];if(patternParts[1]){padLength=(patternParts[1]&&patternParts[1].lastIndexOf('0')+1);if(padLength>fractional.length){valueParts[1]=pad(fractional,padLength,'0',true);}if(maxPlaces<fractional.length){valueParts[1]=fractional.substr(0,maxPlaces);}}else{if(valueParts[1]){valueParts.pop();}}patternDigits=patternParts[0].replace(',','');padLength=patternDigits.indexOf('0');if(padLength!==-1){padLength=patternDigits.length-padLength;if(padLength>valueParts[0].length){valueParts[0]=pad(valueParts[0],padLength);}if(patternDigits.indexOf('#')===-1){valueParts[0]=valueParts[0].substr(valueParts[0].length-padLength);}}index=patternParts[0].lastIndexOf(',');if(index!==-1){groupSize=patternParts[0].length-index-1;remainder=patternParts[0].substr(0,index);index=remainder.lastIndexOf(',');if(index!==-1){groupSize2=remainder.length-index-1;}}for(whole=valueParts[0];whole;){off=whole.length-groupSize;pieces.push(
(off>0)?whole.substr(off):whole);whole=(off>0)?whole.slice(0,off):'';if(groupSize2){groupSize=groupSize2;}}valueParts[0]=pieces.reverse().join(options.group);return valueParts.join(options.decimal);}$.extend(mw.language,{convertNumber:function(num,integer){var i,tmp,transformTable,numberString,convertedNumber,pattern;pattern=mw.language.getData(mw.config.get('wgUserLanguage'),'digitGroupingPattern')||'#,##0.###';transformTable=mw.language.getDigitTransformTable();if(!transformTable){return num;}if(integer){if(parseInt(num,10)===num){return num;}tmp=[];for(i in transformTable){tmp[transformTable[i]]=i;}transformTable=tmp;numberString=num+'';}else{numberString=mw.language.commafy(num,pattern);}convertedNumber='';for(i=0;i<numberString.length;i++){if(transformTable[numberString[i]]){convertedNumber+=transformTable[numberString[i]];}else{convertedNumber+=numberString[i];}}return integer?parseInt(convertedNumber,10):convertedNumber;},getDigitTransformTable:function(){return mw.language.
getData(mw.config.get('wgUserLanguage'),'digitTransformTable')||[];},getSeparatorTransformTable:function(){return mw.language.getData(mw.config.get('wgUserLanguage'),'separatorTransformTable')||[];},commafy:function(value,pattern){var numberPattern,transformTable=mw.language.getSeparatorTransformTable(),group=transformTable[',']||',',numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/,decimal=transformTable['.']||'.',patternList=pattern.split(';'),positivePattern=patternList[0];pattern=patternList[(value<0)?1:0]||('-'+positivePattern);numberPattern=positivePattern.match(numberPatternRE);if(!numberPattern){throw new Error('unable to find a number expression in pattern: '+pattern);}return pattern.replace(numberPatternRE,commafyNumber(value,numberPattern[0],{decimal:decimal,group:group}));}});}(mediaWiki,jQuery));;},{},{});mw.loader.implement("mediawiki.language.data",function(){mw.language.setData("en",{"digitTransformTable":null,"separatorTransformTable":null,"grammarForms":[],"pluralRules":[
"n is 1"],"digitGroupingPattern":null});},{},{});mw.loader.implement("mediawiki.language.init",function(){(function(mw){var language={data:{},getData:function(langCode,dataKey){var langData=language.data;if(langData&&langData[langCode]instanceof mw.Map){return langData[langCode].get(dataKey);}return undefined;},setData:function(langCode,dataKey,value){var langData=language.data;if(!(langData[langCode]instanceof mw.Map)){langData[langCode]=new mw.Map();}langData[langCode].set(dataKey,value);}};mw.language=language;}(mediaWiki));;},{},{});mw.loader.implement("mediawiki.libs.pluralruleparser",function(){(function(mw){function pluralRuleParser(rule,number){var pos=0;var whitespace=makeRegexParser(/^\s+/);var digits=makeRegexParser(/^\d+/);var _n_=makeStringParser('n');var _is_=makeStringParser('is');var _mod_=makeStringParser('mod');var _not_=makeStringParser('not');var _in_=makeStringParser('in');var _within_=makeStringParser('within');var _range_=makeStringParser('..');var _comma_=
makeStringParser(',');var _or_=makeStringParser('or');var _and_=makeStringParser('and');function debug(){}debug('pluralRuleParser',rule,number);function choice(parserSyntax){return function(){for(var i=0;i<parserSyntax.length;i++){var result=parserSyntax[i]();if(result!==null){return result;}}return null;};}function sequence(parserSyntax){var originalPos=pos;var result=[];for(var i=0;i<parserSyntax.length;i++){var res=parserSyntax[i]();if(res===null){pos=originalPos;return null;}result.push(res);}return result;}function nOrMore(n,p){return function(){var originalPos=pos;var result=[];var parsed=p();while(parsed!==null){result.push(parsed);parsed=p();}if(result.length<n){pos=originalPos;return null;}return result;};}function makeStringParser(s){var len=s.length;return function(){var result=null;if(rule.substr(pos,len)===s){result=s;pos+=len;}return result;};}function makeRegexParser(regex){return function(){var matches=rule.substr(pos).match(regex);if(matches===null){return null;}pos+=
matches[0].length;return matches[0];};}function n(){var result=_n_();if(result===null){debug(" -- failed n");return result;}result=parseInt(number,10);debug(" -- passed n ",result);return result;}var expression=choice([mod,n]);function mod(){var result=sequence([n,whitespace,_mod_,whitespace,digits]);if(result===null){debug(" -- failed mod");return null;}debug(" -- passed mod");return parseInt(result[0],10)%parseInt(result[4],10);}function not(){var result=sequence([whitespace,_not_]);if(result===null){debug(" -- failed not");return null;}else{return result[1];}}function is(){var result=sequence([expression,whitespace,_is_,nOrMore(0,not),whitespace,digits]);if(result!==null){debug(" -- passed is");if(result[3][0]==='not'){return result[0]!==parseInt(result[5],10);}else{return result[0]===parseInt(result[5],10);}}debug(" -- failed is");return null;}function rangeList(){var result=sequence([choice([range,digits]),nOrMore(0,rangeTail)]);var resultList=[];if(result!==null){resultList=
resultList.concat(result[0],result[1][0]);return resultList;}debug(" -- failed rangeList");return null;}function rangeTail(){var result=sequence([_comma_,rangeList]);if(result!==null){return result[1];}debug(" -- failed rangeTail");return null;}function range(){var i;var result=sequence([digits,_range_,digits]);if(result!==null){debug(" -- passed range");var array=[];var left=parseInt(result[0],10);var right=parseInt(result[2],10);for(i=left;i<=right;i++){array.push(i);}return array;}debug(" -- failed range");return null;}function _in(){var result=sequence([expression,nOrMore(0,not),whitespace,_in_,whitespace,rangeList]);if(result!==null){debug(" -- passed _in");var range_list=result[5];for(var i=0;i<range_list.length;i++){if(parseInt(range_list[i],10)===result[0]){return(result[1][0]!=='not');}}return(result[1][0]==='not');}debug(" -- failed _in ");return null;}function within(){var result=sequence([expression,whitespace,_within_,whitespace,rangeList]);if(result!==null){debug(
" -- passed within ");var range_list=result[4];return(parseInt(range_list[0],10)<=result[0]&&result[0]<=parseInt(range_list[1],10));}debug(" -- failed within ");return null;}var relation=choice([is,_in,within]);function and(){var result=sequence([relation,whitespace,_and_,whitespace,condition]);if(result){debug(" -- passed and");return result[0]&&result[4];}debug(" -- failed and");return null;}function or(){var result=sequence([relation,whitespace,_or_,whitespace,condition]);if(result){debug(" -- passed or");return result[0]||result[4];}debug(" -- failed or");return null;}var condition=choice([and,or,relation]);function isInt(n){return parseFloat(n)%1===0;}function start(){if(!isInt(number)){return false;}var result=condition();return result;}var result=start();if(result===null||pos!==rule.length){}return result;}if(typeof module!=='undefined'&&module.exports){module.exports=pluralRuleParser;}mw.libs.pluralRuleParser=pluralRuleParser;})(mediaWiki);;},{},{});mw.loader.implement(
"mobile.editing.schema",function(){mediaWiki.eventLog.declareSchema("MobileWebEditing",{"schema":{"description":"Logs editing attempts on Wikimedia mobile sites","properties":{"token":{"type":"string","required":true,"description":"User token"},"action":{"type":"string","required":true,"enum":["attempt","cancel","submit","success","error","sectionPrevious","sectionNext","save"],"description":"The actions involved in editing on mobile."},"section":{"type":"integer","required":true,"description":"The number of the section that the user is editing, e.g. 0, 1, 2, etc."},"pageId":{"type":"integer","description":"ID of the page user is editing."},"username":{"type":"string","description":"Username for logged in user."},"mobileMode":{"type":"string","required":true,"enum":["stable","beta","alpha"],"description":"Whether the user is seeing the regular non-beta, beta, or alpha version of the mobile site."},"userAgent":{"type":"string","description":"Useragent string."},"errorText":{"type":
"string","description":"Error message received by user (if applicable)."}}},"revision":5518026});},{},{});mw.loader.implement("mobile.head",function(){if(typeof console==='undefined'){console={log:function(){}};}if(typeof Array.prototype.forEach==='undefined'){Array.prototype.forEach=function(callback){var i;for(i=0;i<this.length;i++){callback(this[i],i);}};}mw.mobileFrontend={_modules:{},require:function(id){if(!this._modules.hasOwnProperty(id)){throw new Error('Module not found: '+id);}return this._modules[id];},define:function(id,obj){if(this._modules.hasOwnProperty(id)){throw new Error('Module already exists: '+id);}this._modules[id]=obj;if(obj.init&&mw.config.get('wgInitOnDefine',true)){obj.init();}}};;},{},{});mw.loader.implement("mobile.stable",function(){(function(M,$){var toggle=(function(){function wm_toggle_section(section_id){$('#section_'+section_id+',#content_'+section_id).toggleClass('openSection');M.emit('section-toggle',section_id);}function wm_reveal_for_hash(hash){
var $target=$(hash),$p=$target.closest('.content_block, .section_heading').eq(0);if($p.length>0&&!$p.hasClass('openSection')){wm_toggle_section($p.attr('id').split('_')[1]);}}function init(){function openSectionHandler(){var sectionName=this.id?this.id.split('_')[1]:-1;if(sectionName!==-1){wm_toggle_section(sectionName);}}$('html').addClass('togglingEnabled');$('.section_heading').on('mouseup',openSectionHandler);$('.section_anchors').remove();function checkHash(){var hash=window.location.hash;if(hash.indexOf('#')===0){wm_reveal_for_hash(hash);}}checkHash();$('#content_wrapper a').on('click',checkHash);}return{wm_reveal_for_hash:wm_reveal_for_hash,wm_toggle_section:wm_toggle_section,init:init};}());M.define('toggle',toggle);M.on('page-loaded',function(){toggle.init();});}(mw.mobileFrontend,jQuery));(function(M,$){var module=(function(){var Overlay=M.require('Overlay'),CleanupOverlay=Overlay.extend({template:M.template.get('overlays/cleanup')});function run($container,parentOverlay){
$container=$container||$('#content_0');var $metadata=$container.find('table.ambox'),overlay,$tmp=$('<div>');$metadata.each(function(){if($(this).find('table.ambox').length===0){$tmp.append($(this).clone());}});overlay=new CleanupOverlay({parent:parentOverlay,heading:mw.msg('mobile-frontend-meta-data-issues-header'),content:$tmp.html()});$('<a class="mw-mf-cleanup">').click(function(){overlay.show();}).text(mw.msg('mobile-frontend-meta-data-issues')).insertBefore($metadata.eq(0));$metadata.remove();}function init(){run();M.on('page-loaded',function(){run();});M.on('edit-preview',function(overlay){run(overlay.$el,overlay);});}return{init:init,run:run};}());M.define('cleanuptemplates',module);}(mw.mobileFrontend,jQuery));(function(M,$){var module=(function(){var units=['seconds','minutes','hours','days','months','years'],limits=[1,60,3600,86400,2592000,31536000];function timeAgo(timestampDelta){var i=0;while(i<limits.length&&timestampDelta>limits[i+1]){++i;}return{value:Math.round(
timestampDelta/limits[i]),unit:units[i]};}function init(){var $lastModified=$('#mw-mf-last-modified'),keys={seconds:'mobile-frontend-last-modified-seconds',minutes:'mobile-frontend-last-modified-minutes',hours:'mobile-frontend-last-modified-hours',days:'mobile-frontend-last-modified-days',months:'mobile-frontend-last-modified-months',years:'mobile-frontend-last-modified-years'},pageTimestamp=parseInt($lastModified.data('timestamp'),10),currentTimestamp=Math.round(new Date().getTime()/1000),delta=timeAgo(currentTimestamp-pageTimestamp),message=mw.msg(keys[delta.unit],delta.value);$lastModified.text(message);}M.on('page-loaded',init);return{timeAgo:timeAgo,init:init};}());M.define('last-modified',module);}(mw.mobileFrontend,jQuery));(function(M,$){var funnel=$.cookie('mwUploadsFunnel')||'article',showCta=mw.config.get('wgMFEnablePhotoUploadCTA')||funnel==='nearby',popup=M.require('notifications'),PhotoUploaderPageActionButton=M.require('uploads/PhotoUploaderPageActionButton'),
PhotoUploaderButton=M.require('uploads/PhotoUploaderButton'),isSupported=PhotoUploaderButton.isSupported,LeadPhoto=M.require('uploads/LeadPhoto');function needsPhoto($container){var $content_0=$container.find('#content_0');if($content_0.length){$container=$content_0;}return $container.find(mw.config.get('wgMFLeadPhotoUploadCssSelector')).length===0;}if(funnel){$.cookie('mwUploadsFunnel',null);}function initialize(){var namespaceIds=mw.config.get('wgNamespaceIds'),namespace=mw.config.get('wgNamespaceNumber'),validNamespace=(namespace===namespaceIds['']||namespace===namespaceIds.user),$page=$('#content'),$pageHeading=$page.find('h1').first(),optionsPhotoUploader,photoUploader;if(!validNamespace||mw.util.getParamValue('action')||!needsPhoto($page)||mw.config.get('wgIsMainPage')){return;}optionsPhotoUploader={buttonCaption:mw.msg('mobile-frontend-photo-upload'),insertInPage:true,pageTitle:mw.config.get('wgTitle'),funnel:funnel};if($('#ca-upload').length){optionsPhotoUploader.el=
'#ca-upload';photoUploader=new PhotoUploaderPageActionButton(optionsPhotoUploader);}else{photoUploader=new PhotoUploaderButton(optionsPhotoUploader).insertAfter($pageHeading);}photoUploader.on('start',function(){photoUploader.$el.hide();}).on('success',function(data){popup.show(mw.msg('mobile-frontend-photo-upload-success-article'),'toast');if(!$('#content_0').length){$('<div id="content_0" >').insertAfter($('#section_0,#page-actions').last());}new LeadPhoto({url:data.url,pageUrl:data.descriptionUrl,caption:data.description}).prependTo('#content_0').animate();}).on('error cancel',function(){photoUploader.$el.show();});}if(isSupported&&mw.config.get('wgIsPageEditable')&&(M.isLoggedIn()||showCta)){$(initialize);M.on('page-loaded',function(){initialize();});}M.define('_leadphoto',{needsPhoto:needsPhoto});}(mw.mobileFrontend,jQuery));(function(M,$){var photo=M.require('uploads/PhotoUploaderButton');if(!photo.isSupported){$('#mw-mf-page-left li.icon-uploads').remove();}if(!M.
supportsGeoLocation()){$('#mw-mf-page-left li.icon-nearby').remove();}})(mw.mobileFrontend,jQuery);(function(M,$){var Overlay=M.require('Overlay'),SearchOverlay,api=M.require('api'),searchOverlay;function createSearchRegEx(str){str=str.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,'\\$&');return new RegExp('^('+str+')','ig');}function highlightSearchTerm(label,term){label=$('<span>').text(label).html();term=$('<span>').text(term).html();return label.replace(createSearchRegEx(term),'<strong>$1</strong>');}SearchOverlay=Overlay.extend({templateResults:M.template.get('overlays/search/results'),template:M.template.get('overlays/search/search'),defaults:{explanation:mw.msg('mobile-frontend-search-help'),noresults:mw.msg('mobile-frontend-search-noresults'),action:mw.config.get('wgScript')},postRender:function(options){var self=this;this._super(options);this.data=this.defaults;this.$('input').on('keyup',function(ev){if(ev.keyCode&&ev.keyCode===13){$(this).parents('form').submit();}else{self.
performSearch();}});this.results=[];this.$('.clear').on('click',function(){self.$('input').val('').focus();});},writeResults:function(results){var $list=this.$('ul.suggestions-results');this.data.results=results||[];$list.html(this.templateResults.render(this.data));if(results){if(results.length>0){this.$('.no-results').remove();}}else{this.$('.no-results').remove();}this.emit('write-results');},performSearch:function(){var self=this,term=this.$('input').val();function completeSearch(data){data=$.map(data[1],function(item){return{label:highlightSearchTerm(item,term),title:item,url:M.history.getArticleUrl(item)};});self.writeResults(data);self.$('input').removeClass('searching');}clearTimeout(this.timer);if(term.length>0){this.timer=setTimeout(function(){self.$('input').addClass('searching');api.get({search:term,action:'opensearch',namespace:0,limit:15}).done(completeSearch);},500);}},showAndFocus:function(){this.show();this.$('input').focus().select();}});searchOverlay=new SearchOverlay
();function init(){$('#searchInput').on('touchend keydown',function(ev){if(ev.type==='touchend'||(ev.which!==9&&ev.which!==16)){searchOverlay.showAndFocus();}});}init();M.define('search',{SearchOverlay:SearchOverlay,overlay:searchOverlay,highlightSearchTerm:highlightSearchTerm});}(mw.mobileFrontend,jQuery));(function(M,$){var api=M.require('api'),w=(function(){var popup=M.require('notifications'),searchOverlay=M.require('search').overlay,CtaDrawer=M.require('CtaDrawer'),drawer=new CtaDrawer({content:mw.msg('mobile-frontend-watchlist-cta'),returnToQuery:'article_action=watch'});function logWatchEvent(eventType,token){var types=['watchlist','unwatchlist','anonCTA'],data={articleID:mw.config.get('wgArticleId'),anon:mw.config.get('wgUserName')===null,action:types[eventType],isStable:mw.config.get('wgMFMode'),token:eventType===2?'+\\':token,username:mw.config.get('wgUserName')||''};M.log('MobileBetaWatchlist',data);}function toggleWatch(title,token,unwatchflag,callback,errback){var data={
format:'json',action:'watch',title:title,token:token},msg=mw.msg('mobile-frontend-watchlist-add',title),popupClass='watch-action toast';if(unwatchflag){data.unwatch=true;msg=mw.msg('mobile-frontend-watchlist-removed',title);}else{popupClass+=' watched';}function report(){popup.show(msg,popupClass);}$.ajax({type:'post',dataType:'json',url:M.getApiUrl(),data:data}).done(callback).fail(errback).done(report);}function createButton(container){$(container).find('.watch-this-article').remove();return $('<a class="watch-this-article">').appendTo(container)[0];}function createWatchListButton(container,title,isWatchedArticle){var prevent,watchBtn=createButton(container);if(isWatchedArticle){$(watchBtn).addClass('watched');}function enable(){prevent=false;$(watchBtn).removeClass('disabled loading');}function success(data,token){if(data.watch.hasOwnProperty('watched')){logWatchEvent(0,token);$(watchBtn).addClass('watched');}else{logWatchEvent(1,token);$(watchBtn).removeClass('watched');}enable();}
function toggleWatchStatus(unwatch){api.getToken('watch').done(function(token){toggleWatch(title,token,unwatch,function(data){success(data,token);},enable);});}$(watchBtn).click(function(ev){if(prevent){ev.preventDefault();}prevent=true;$(watchBtn).addClass('disabled loading');toggleWatchStatus($(watchBtn).hasClass('watched'));});}function asyncCheckWatchStatus(titles,callback){$.ajax({url:M.getApiUrl(),dataType:'json',data:{action:'query',format:'json',titles:titles.join('|'),prop:'info',inprop:'watched'}}).done(function(data){var pages=data.query.pages,statuses={},page,i;for(i in pages){if(pages.hasOwnProperty(i)&&i>-1){page=pages[i];statuses[page.title]=page.hasOwnProperty('watched');}}callback(statuses);});}function checkWatchStatus(titles,callback){var cache=mw.config.get('wgWatchedPageCache')||{};if(titles.length===1&&typeof cache[titles[0]]!=='undefined'){callback(cache);}else{asyncCheckWatchStatus(titles,callback);}}function initWatchListIcon(container,title){if(M.isLoggedIn())
{checkWatchStatus([title],function(status){createWatchListButton(container,title,status[title]);});}else{$(createButton(container)).click(function(ev){if(!drawer.isVisible()){logWatchEvent(2);drawer.show();}else{drawer.hide();}ev.stopPropagation();});}}function initWatchListIconList($container,allPagesAreWatched){var $items=$container.find('li'),titles=[];$items.each(function(){titles.push($(this).attr('title'));});if(allPagesAreWatched){$container.find('li').each(function(){var title=$(this).attr('title');createWatchListButton(this,title,true);});}else if(M.isLoggedIn()&&titles.length>0){checkWatchStatus(titles,function(statuses){$container.find('li').each(function(){var title=$(this).attr('title'),status=statuses[title];if(status!==undefined){createWatchListButton(this,title,status);}});});}}function upgradeUI(){searchOverlay.on('write-results',function(){initWatchListIconList(searchOverlay.$('ul'));});}if(!$('#ca-watch').length){$('<li id="ca-watch">').appendTo('#mw-mf-menu-page');}
function init($container,title){var pageTitle=mw.config.get('wgTitle'),isSpecialPage=mw.config.get('wgNamespaceNumber')===mw.config.get('wgNamespaceIds').special;$container=$container||$('#ca-watch').removeClass('watched watch-this-article').empty();title=title||pageTitle;if($container&&!isSpecialPage){initWatchListIcon($container,title);}upgradeUI();}M.on('page-loaded',function(article){initWatchListIcon($('#ca-watch'),article.title);});return{init:init,initWatchListIcon:initWatchListIcon,initWatchListIconList:initWatchListIconList};}());M.define('watchstar',w);}(mw.mobileFrontend,jQuery));(function(M,$){var references=(function(){var popup=M.require('notifications');function collect(){var references={};$('ol.references li').each(function(){references[$(this).attr('id')]={html:$(this).html()};});return references;}function setupReferences(container,options){var lastLink,data,html,href,references=collect();container=container||$('#content')[0];function cancelBubble(ev){ev.
stopPropagation();}function close(){lastLink=null;popup.close();}$('.mw-cite-backlink a').click(close);function clickReference(ev){var $popup;href=$(this).attr('href');data=href&&href.charAt(0)==='#'?references[href.substr(1,href.length)]:null;if(!popup.isVisible()||lastLink!==href){lastLink=href;if(data){html='<h3>'+$(this).text()+'</h3>'+data.html;}else{html=$('<a />').text($(this).text()).attr('href',href).appendTo('<div />').parent().html();}$popup=popup.show(html);$popup.find('div sup a').click(clickReference);}else{close();}if(options&&options.onClickReference){options.onClickReference(ev);}ev.preventDefault();cancelBubble(ev);}$('sup a',container).unbind('click').click(clickReference).each(function(){this.ontouchstart=cancelBubble;});}function init(){M.on('section-rendered',setupReferences).on('references-loaded',setupReferences);setupReferences();}return{init:init,setupReferences:setupReferences};}());M.define('references',references);}(mw.mobileFrontend,jQuery));;},{},{
"mobile-frontend-close-section":"Close this section","mobile-frontend-show-button":"\u003Cmobile-frontend-show-button\u003E","mobile-frontend-hide-button":"\u003Cmobile-frontend-hide-button\u003E","mobile-frontend-meta-data-issues":"This page has some issues","mobile-frontend-meta-data-issues-header":"Issues","mobile-frontend-last-modified-seconds":"Last modified {{PLURAL:$1|$1 second|$1 seconds}} ago","mobile-frontend-last-modified-hours":"Last modified {{PLURAL:$1|$1 hour|$1 hours}} ago","mobile-frontend-last-modified-minutes":"Last modified {{PLURAL:$1|$1 minute|$1 minutes}} ago","mobile-frontend-last-modified-days":"Last modified {{PLURAL:$1|$1 day|$1 days}} ago","mobile-frontend-last-modified-months":"Last modified {{PLURAL:$1|$1 month|$1 months}} ago","mobile-frontend-last-modified-years":"Last modified {{PLURAL:$1|$1 year|$1 years}} ago","mobile-frontend-photo-upload-success-article":"Success! Your image is now live on this page.","mobile-frontend-photo-upload":
"Add an image to this article","mobile-frontend-watchlist-add":"Added $1 to your watchlist","mobile-frontend-watchlist-removed":"Removed $1 from your watchlist","mobile-frontend-watchlist-cta":"Please login or sign up to watch this page.","mobile-frontend-search-help":"Type search term above and matching page titles will appear here.","mobile-frontend-search-noresults":"No page titles match your search. Change your search, or press the keyboard search button to search inside pages."});mw.loader.implement("mobile.startup",function(){var Hogan={};(function(Hogan,useArrayBuffer){Hogan.Template=function(renderFunc,text,compiler,options){this.r=renderFunc||this.r;this.c=compiler;this.options=options;this.text=text||'';this.buf=(useArrayBuffer)?[]:'';}
Hogan.Template.prototype={r:function(context,partials,indent){return'';},v:hoganEscape,t:coerceToString,render:function render(context,partials,indent){return this.ri([context],partials||{},indent);},ri:function(context,partials,indent){return this.r(context,partials,indent);},rp:function(name,context,partials,indent){var partial=partials[name];if(!partial){return'';}if(this.c&&typeof partial=='string'){partial=this.c.compile(partial,this.options);}return partial.ri(context,partials,indent);},rs:function(context,partials,section){var tail=context[context.length-1];if(!isArray(tail)){section(context,partials,this);return;}for(var i=0;i<tail.length;i++){context.push(tail[i]);section(context,partials,this);context.pop();}},s:function(val,ctx,partials,inverted,start,end,tags){var pass;if(isArray(val)&&val.length===0){return false;}if(typeof val=='function'){val=this.ls(val,ctx,partials,inverted,start,end,tags);}pass=(val==='')||!!val;if(!inverted&&pass&&ctx){ctx.push((typeof val=='object')
?val:ctx[ctx.length-1]);}return pass;},d:function(key,ctx,partials,returnFound){var names=key.split('.'),val=this.f(names[0],ctx,partials,returnFound),cx=null;if(key==='.'&&isArray(ctx[ctx.length-2])){return ctx[ctx.length-1];}for(var i=1;i<names.length;i++){if(val&&typeof val=='object'&&names[i]in val){cx=val;val=val[names[i]];}else{val='';}}if(returnFound&&!val){return false;}if(!returnFound&&typeof val=='function'){ctx.push(cx);val=this.lv(val,ctx,partials);ctx.pop();}return val;},f:function(key,ctx,partials,returnFound){var val=false,v=null,found=false;for(var i=ctx.length-1;i>=0;i--){v=ctx[i];if(v&&typeof v=='object'&&key in v){val=v[key];found=true;break;}}if(!found){return(returnFound)?false:"";}if(!returnFound&&typeof val=='function'){val=this.lv(val,ctx,partials);}return val;},ho:function(val,cx,partials,text,tags){var compiler=this.c;var options=this.options;options.delimiters=tags;var text=val.call(cx,text);text=(text==null)?String(text):text.toString();this.b(compiler.
compile(text,options).render(cx,partials));return false;},b:(useArrayBuffer)?function(s){this.buf.push(s);}:function(s){this.buf+=s;},fl:(useArrayBuffer)?function(){var r=this.buf.join('');this.buf=[];return r;}:function(){var r=this.buf;this.buf='';return r;},ls:function(val,ctx,partials,inverted,start,end,tags){var cx=ctx[ctx.length-1],t=null;if(!inverted&&this.c&&val.length>0){return this.ho(val,cx,partials,this.text.substring(start,end),tags);}t=val.call(cx);if(typeof t=='function'){if(inverted){return true;}else if(this.c){return this.ho(t,cx,partials,this.text.substring(start,end),tags);}}return t;},lv:function(val,ctx,partials){var cx=ctx[ctx.length-1];var result=val.call(cx);if(typeof result=='function'){result=coerceToString(result.call(cx));if(this.c&&~result.indexOf("{\u007B")){return this.c.compile(result,this.options).render(cx,partials);}}return coerceToString(result);}};var rAmp=/&/g,rLt=/</g,rGt=/>/g,rApos=/\'/g,rQuot=/\"/g,hChars=/[&<>\"\']/;function coerceToString(val
){return String((val===null||val===undefined)?'':val);}function hoganEscape(str){str=coerceToString(str);return hChars.test(str)?str.replace(rAmp,'&amp;').replace(rLt,'&lt;').replace(rGt,'&gt;').replace(rApos,'&#39;').replace(rQuot,'&quot;'):str;}var isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==='[object Array]';};})(typeof exports!=='undefined'?exports:Hogan);(function(Hogan){var rIsWhitespace=/\S/,rQuot=/\"/g,rNewline=/\n/g,rCr=/\r/g,rSlash=/\\/g,tagTypes={'#':1,'^':2,'/':3,'!':4,'>':5,'<':6,'=':7,'_v':8,'{':9,'&':10};Hogan.scan=function scan(text,delimiters){var len=text.length,IN_TEXT=0,IN_TAG_TYPE=1,IN_TAG=2,state=IN_TEXT,tagType=null,tag=null,buf='',tokens=[],seenTag=false,i=0,lineStart=0,otag='{{',ctag='}}';function addBuf(){if(buf.length>0){tokens.push(new String(buf));buf='';}}function lineIsWhitespace(){var isAllWhitespace=true;for(var j=lineStart;j<tokens.length;j++){isAllWhitespace=(tokens[j].tag&&tagTypes[tokens[j].tag]<tagTypes['_v'])||(!
tokens[j].tag&&tokens[j].match(rIsWhitespace)===null);if(!isAllWhitespace){return false;}}return isAllWhitespace;}function filterLine(haveSeenTag,noNewLine){addBuf();if(haveSeenTag&&lineIsWhitespace()){for(var j=lineStart,next;j<tokens.length;j++){if(!tokens[j].tag){if((next=tokens[j+1])&&next.tag=='>'){next.indent=tokens[j].toString()}tokens.splice(j,1);}}}else if(!noNewLine){tokens.push({tag:'\n'});}seenTag=false;lineStart=tokens.length;}function changeDelimiters(text,index){var close='='+ctag,closeIndex=text.indexOf(close,index),delimiters=trim(text.substring(text.indexOf('=',index)+1,closeIndex)).split(' ');otag=delimiters[0];ctag=delimiters[1];return closeIndex+close.length-1;}if(delimiters){delimiters=delimiters.split(' ');otag=delimiters[0];ctag=delimiters[1];}for(i=0;i<len;i++){if(state==IN_TEXT){if(tagChange(otag,text,i)){--i;addBuf();state=IN_TAG_TYPE;}else{if(text.charAt(i)=='\n'){filterLine(seenTag);}else{buf+=text.charAt(i);}}}else if(state==IN_TAG_TYPE){i+=otag.length-1;
tag=tagTypes[text.charAt(i+1)];tagType=tag?text.charAt(i+1):'_v';if(tagType=='='){i=changeDelimiters(text,i);state=IN_TEXT;}else{if(tag){i++;}state=IN_TAG;}seenTag=i;}else{if(tagChange(ctag,text,i)){tokens.push({tag:tagType,n:trim(buf),otag:otag,ctag:ctag,i:(tagType=='/')?seenTag-ctag.length:i+otag.length});buf='';i+=ctag.length-1;state=IN_TEXT;if(tagType=='{'){if(ctag=='}}'){i++;}else{cleanTripleStache(tokens[tokens.length-1]);}}}else{buf+=text.charAt(i);}}}filterLine(seenTag,true);return tokens;}
function cleanTripleStache(token){if(token.n.substr(token.n.length-1)==='}'){token.n=token.n.substring(0,token.n.length-1);}}function trim(s){if(s.trim){return s.trim();}return s.replace(/^\s*|\s*$/g,'');}function tagChange(tag,text,index){if(text.charAt(index)!=tag.charAt(0)){return false;}for(var i=1,l=tag.length;i<l;i++){if(text.charAt(index+i)!=tag.charAt(i)){return false;}}return true;}function buildTree(tokens,kind,stack,customTags){var instructions=[],opener=null,token=null;while(tokens.length>0){token=tokens.shift();if(token.tag=='#'||token.tag=='^'||isOpener(token,customTags)){stack.push(token);token.nodes=buildTree(tokens,token.tag,stack,customTags);instructions.push(token);}else if(token.tag=='/'){if(stack.length===0){throw new Error('Closing tag without opener: /'+token.n);}opener=stack.pop();if(token.n!=opener.n&&!isCloser(token.n,opener.n,customTags)){throw new Error('Nesting error: '+opener.n+' vs. '+token.n);}opener.end=token.i;return instructions;}else{instructions.
push(token);}}if(stack.length>0){throw new Error('missing closing tag: '+stack.pop().n);}return instructions;}function isOpener(token,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].o==token.n){token.tag='#';return true;}}}function isCloser(close,open,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].c==close&&tags[i].o==open){return true;}}}Hogan.generate=function(tree,text,options){var code='var _=this;_.b(i=i||"");'+walk(tree)+'return _.fl();';if(options.asString){return'function(c,p,i){'+code+';}';}return new Hogan.Template(new Function('c','p','i',code),text,Hogan,options);}
function esc(s){return s.replace(rSlash,'\\\\').replace(rQuot,'\\\"').replace(rNewline,'\\n').replace(rCr,'\\r');}function chooseMethod(s){return(~s.indexOf('.'))?'d':'f';}function walk(tree){var code='';for(var i=0,l=tree.length;i<l;i++){var tag=tree[i].tag;if(tag=='#'){code+=section(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n),tree[i].i,tree[i].end,tree[i].otag+" "+tree[i].ctag);}else if(tag=='^'){code+=invertedSection(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n));}else if(tag=='<'||tag=='>'){code+=partial(tree[i]);}else if(tag=='{'||tag=='&'){code+=tripleStache(tree[i].n,chooseMethod(tree[i].n));}else if(tag=='\n'){code+=text('"\\n"'+(tree.length-1==i?'':' + i'));}else if(tag=='_v'){code+=variable(tree[i].n,chooseMethod(tree[i].n));}else if(tag===undefined){code+=text('"'+esc(tree[i])+'"');}}return code;}function section(nodes,id,method,start,end,tags){return'if(_.s(_.'+method+'("'+esc(id)+'",c,p,1),'+'c,p,0,'+start+','+end+',"'+tags+'")){'+'_.rs(c,p,'+'function(c,p,_){'+walk(
nodes)+'});c.pop();}';}function invertedSection(nodes,id,method){return'if(!_.s(_.'+method+'("'+esc(id)+'",c,p,1),c,p,1,0,0,"")){'+walk(nodes)+'};';}function partial(tok){return'_.b(_.rp("'+esc(tok.n)+'",c,p,"'+(tok.indent||'')+'"));';}function tripleStache(id,method){return'_.b(_.t(_.'+method+'("'+esc(id)+'",c,p,0)));';}function variable(id,method){return'_.b(_.v(_.'+method+'("'+esc(id)+'",c,p,0)));';}function text(id){return'_.b('+id+');';}Hogan.parse=function(tokens,text,options){options=options||{};return buildTree(tokens,'',[],options.sectionTags||[]);},Hogan.cache={};Hogan.compile=function(text,options){options=options||{};var key=text+'||'+!!options.asString;var t=this.cache[key];if(t){return t;}t=this.generate(this.parse(this.scan(text,options.delimiters),text,options),text,options);return this.cache[key]=t;};})(typeof exports!=='undefined'?exports:Hogan);(function(M,$){function callbackProxy(callback){return function(){var args=Array.prototype.slice.call(arguments,1);callback.
apply(callback,args);};}function EventEmitter(){}EventEmitter.prototype.on=function(event,callback){$(this).on(event,callbackProxy(callback));return this;};EventEmitter.prototype.one=function(event,callback){$(this).one(event,callbackProxy(callback));return this;};EventEmitter.prototype.emit=function(event){var args=Array.prototype.slice.call(arguments,1);$(this).triggerHandler(event,args);return this;};M.define('eventemitter',EventEmitter);}(mw.mobileFrontend,jQuery));(function(M,$){var EventEmitter=M.require('eventemitter');function matchRoute(hash,entry){var match=hash.match(entry.path);if(match){entry.callback.apply(this,match.slice(1));return true;}return false;}function extractHash(url){var match=url.match(/#(.*)$/);return(match&&match[1])||'';}function Router(){var self=this;this.routes={};this._enabled=true;$(window).on('hashchange',function(ev){var hash=extractHash(ev.originalEvent.newURL),routeEv=$.Event();if(!self._enabled){self._enabled=true;return;}self.emit('route',
routeEv);if(!routeEv.isDefaultPrevented()){$.each(self.routes,function(id,entry){return!matchRoute(hash,entry);});}else{self._enabled=false;window.location.hash=extractHash(ev.originalEvent.oldURL);}});}Router.prototype=new EventEmitter();Router.prototype.route=function(path,callback){var entry={path:typeof path==='string'?new RegExp('^'+path+'$'):path,callback:callback};this.routes[entry.path]=entry;matchRoute(window.location.hash.slice(1),entry);};Router.prototype.navigate=function(path){window.location.hash=path;};Router.prototype.isSupported=function(){return'onhashchange'in window;};M.define('Router',Router);}(mw.mobileFrontend,jQuery));(function(M,$){var EventEmitter=M.require('eventemitter'),Router=M.require('Router'),eventEmitter=new EventEmitter(),$viewport,viewport,template,templates={},scrollY;function on(){return eventEmitter.on.apply(eventEmitter,arguments);}function emit(){return eventEmitter.emit.apply(eventEmitter,arguments);}template={add:function(name,markup){
templates[name]=this.compile(markup);},get:function(name){if(!templates[name]){throw new Error('Template not found: '+name);}return templates[name];},compile:function(templateBody){return Hogan.compile(templateBody);}};function supportsPositionFixed(){var agent=navigator.userAgent,support=false,supportedAgents=[/AppleWebKit\/(53[4-9]|5[4-9]\d?|[6-9])\d?\d?/,/Android [3-9]/];supportedAgents.forEach(function(item){if(agent.match(item)){support=true;}});return support;}function supportsGeoLocation(){return!!navigator.geolocation;}scrollY=window.scrollY||0;if(!window.location.hash&&scrollY<10){window.scrollTo(0,1);}function lockViewport(){$viewport.attr('content','minimum-scale=1.0, maximum-scale=1.0');}function unlockViewport(){$viewport.attr('content',viewport);}function init(){var mode,$body=$('body'),$doc=$('html');if($body.hasClass('alpha')){mode='alpha';}else{mode=$body.hasClass('beta')?'beta':'stable';}mw.config.set('wgMFMode',mode);$doc.removeClass('page-loading');if(
supportsPositionFixed()){$doc.addClass('supportsPositionFixed');}$viewport=$('meta[name="viewport"]');viewport=$viewport.attr('content');if(viewport&&viewport.indexOf('minimum-scale')===-1){viewport+=', minimum-scale=0.25, maximum-scale=1.6';}function fixBrowserBugs(){var ua=navigator.userAgent;if($viewport[0]&&ua.match(/iPhone|iPad/i)&&ua.match(/OS [4-5]_0/)){lockViewport();document.addEventListener('gesturestart',function(){lockViewport();},false);}}fixBrowserBugs();}function getApiUrl(){return mw.config.get('wgScriptPath','')+'/api.php';}function isLoggedIn(){return mw.config.get('wgUserName')?true:false;}function getOrigin(){return window.location.protocol+'//'+window.location.hostname;}function prettyEncodeTitle(title){return encodeURIComponent(title.replace(/ /g,'_')).replace(/%3A/g,':').replace(/%2F/g,'/');}function log(schemaName,data){if(mw.eventLog){mw.eventLog.logEvent(schemaName,data);}}function getSessionId(){var sessionId;if(typeof localStorage==='undefined'){return null;
}sessionId=localStorage.getItem('sessionId');if(!sessionId){sessionId='';while(sessionId.length<32){sessionId+=Math.random().toString(36).slice(2,32+2-sessionId.length);}localStorage.setItem('sessionId',sessionId);}return sessionId;}$(init);$.extend(M,{init:init,emit:emit,jQuery:typeof jQuery!=='undefined'?jQuery:false,getApiUrl:getApiUrl,getOrigin:getOrigin,getSessionId:getSessionId,isLoggedIn:isLoggedIn,lockViewport:lockViewport,log:log,on:on,prefix:'mw-mf-',supportsGeoLocation:supportsGeoLocation,supportsPositionFixed:supportsPositionFixed,prettyEncodeTitle:prettyEncodeTitle,template:template,unlockViewport:unlockViewport,router:new Router()});}(mw.mobileFrontend,jQuery));(function(M,$){M.history=(function(){function getArticleUrl(title,params){var url=mw.config.get('wgArticlePath').replace('$1',M.prettyEncodeTitle(title));if(!$.isEmptyObject(params)){url+='?'+$.param(params);}return url;}return{getArticleUrl:getArticleUrl};}());}(mw.mobileFrontend,jQuery));(function(M){M.settings=(
function(){var supportsLocalStorage;try{supportsLocalStorage='localStorage'in window&&window.localStorage!==null;}catch(e){supportsLocalStorage=false;}function writeCookie(name,value,days,path,domain){var date,expires,cookie;if(days){date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires='; expires='+date.toGMTString();}else{expires='';}if(typeof path==='undefined'){path='/';}cookie=name+'='+value+expires+'; path='+path;if(typeof domain!=='undefined'){cookie=cookie+'; domain='+domain;}document.cookie=cookie;}function readCookie(name){var nameVA=name+'=',ca=document.cookie.split(';'),c,i;for(i=0;i<ca.length;i++){c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}if(c.indexOf(nameVA)===0){return c.substring(nameVA.length,c.length);}}return null;}function removeCookie(name){writeCookie(name,'',-1);return null;}function saveUserSetting(name,value,useCookieFallback){return supportsLocalStorage?localStorage.setItem(name,value):(useCookieFallback?writeCookie(name,
value,1):false);}function getUserSetting(name,useCookieFallback){return supportsLocalStorage?localStorage.getItem(name):(useCookieFallback?readCookie(name):false);}return{getUserSetting:getUserSetting,readCookie:readCookie,removeCookie:removeCookie,saveUserSetting:saveUserSetting,supportsLocalStorage:supportsLocalStorage,writeCookie:writeCookie};}());}(mw.mobileFrontend));(function(M,$){var writeCookie=M.settings.writeCookie;function desktopViewClick(){var useFormatCookie=mw.config.get('wgUseFormatCookie'),redirectCookie=mw.config.get('wgStopMobileRedirectCookie');writeCookie(useFormatCookie.name,'',useFormatCookie.duration,useFormatCookie.path,useFormatCookie.domain);writeCookie(redirectCookie.name,'true',redirectCookie.duration,redirectCookie.path,redirectCookie.domain);}$('#mw-mf-display-toggle').on('click',desktopViewClick);}(mw.mobileFrontend,jQuery));;},{},{});mw.loader.implement("mobile.stable.common",function(){var Hogan={};(function(Hogan,useArrayBuffer){Hogan.Template=
function(renderFunc,text,compiler,options){this.r=renderFunc||this.r;this.c=compiler;this.options=options;this.text=text||'';this.buf=(useArrayBuffer)?[]:'';}
Hogan.Template.prototype={r:function(context,partials,indent){return'';},v:hoganEscape,t:coerceToString,render:function render(context,partials,indent){return this.ri([context],partials||{},indent);},ri:function(context,partials,indent){return this.r(context,partials,indent);},rp:function(name,context,partials,indent){var partial=partials[name];if(!partial){return'';}if(this.c&&typeof partial=='string'){partial=this.c.compile(partial,this.options);}return partial.ri(context,partials,indent);},rs:function(context,partials,section){var tail=context[context.length-1];if(!isArray(tail)){section(context,partials,this);return;}for(var i=0;i<tail.length;i++){context.push(tail[i]);section(context,partials,this);context.pop();}},s:function(val,ctx,partials,inverted,start,end,tags){var pass;if(isArray(val)&&val.length===0){return false;}if(typeof val=='function'){val=this.ls(val,ctx,partials,inverted,start,end,tags);}pass=(val==='')||!!val;if(!inverted&&pass&&ctx){ctx.push((typeof val=='object')
?val:ctx[ctx.length-1]);}return pass;},d:function(key,ctx,partials,returnFound){var names=key.split('.'),val=this.f(names[0],ctx,partials,returnFound),cx=null;if(key==='.'&&isArray(ctx[ctx.length-2])){return ctx[ctx.length-1];}for(var i=1;i<names.length;i++){if(val&&typeof val=='object'&&names[i]in val){cx=val;val=val[names[i]];}else{val='';}}if(returnFound&&!val){return false;}if(!returnFound&&typeof val=='function'){ctx.push(cx);val=this.lv(val,ctx,partials);ctx.pop();}return val;},f:function(key,ctx,partials,returnFound){var val=false,v=null,found=false;for(var i=ctx.length-1;i>=0;i--){v=ctx[i];if(v&&typeof v=='object'&&key in v){val=v[key];found=true;break;}}if(!found){return(returnFound)?false:"";}if(!returnFound&&typeof val=='function'){val=this.lv(val,ctx,partials);}return val;},ho:function(val,cx,partials,text,tags){var compiler=this.c;var options=this.options;options.delimiters=tags;var text=val.call(cx,text);text=(text==null)?String(text):text.toString();this.b(compiler.
compile(text,options).render(cx,partials));return false;},b:(useArrayBuffer)?function(s){this.buf.push(s);}:function(s){this.buf+=s;},fl:(useArrayBuffer)?function(){var r=this.buf.join('');this.buf=[];return r;}:function(){var r=this.buf;this.buf='';return r;},ls:function(val,ctx,partials,inverted,start,end,tags){var cx=ctx[ctx.length-1],t=null;if(!inverted&&this.c&&val.length>0){return this.ho(val,cx,partials,this.text.substring(start,end),tags);}t=val.call(cx);if(typeof t=='function'){if(inverted){return true;}else if(this.c){return this.ho(t,cx,partials,this.text.substring(start,end),tags);}}return t;},lv:function(val,ctx,partials){var cx=ctx[ctx.length-1];var result=val.call(cx);if(typeof result=='function'){result=coerceToString(result.call(cx));if(this.c&&~result.indexOf("{\u007B")){return this.c.compile(result,this.options).render(cx,partials);}}return coerceToString(result);}};var rAmp=/&/g,rLt=/</g,rGt=/>/g,rApos=/\'/g,rQuot=/\"/g,hChars=/[&<>\"\']/;function coerceToString(val
){return String((val===null||val===undefined)?'':val);}function hoganEscape(str){str=coerceToString(str);return hChars.test(str)?str.replace(rAmp,'&amp;').replace(rLt,'&lt;').replace(rGt,'&gt;').replace(rApos,'&#39;').replace(rQuot,'&quot;'):str;}var isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==='[object Array]';};})(typeof exports!=='undefined'?exports:Hogan);(function(Hogan){var rIsWhitespace=/\S/,rQuot=/\"/g,rNewline=/\n/g,rCr=/\r/g,rSlash=/\\/g,tagTypes={'#':1,'^':2,'/':3,'!':4,'>':5,'<':6,'=':7,'_v':8,'{':9,'&':10};Hogan.scan=function scan(text,delimiters){var len=text.length,IN_TEXT=0,IN_TAG_TYPE=1,IN_TAG=2,state=IN_TEXT,tagType=null,tag=null,buf='',tokens=[],seenTag=false,i=0,lineStart=0,otag='{{',ctag='}}';function addBuf(){if(buf.length>0){tokens.push(new String(buf));buf='';}}function lineIsWhitespace(){var isAllWhitespace=true;for(var j=lineStart;j<tokens.length;j++){isAllWhitespace=(tokens[j].tag&&tagTypes[tokens[j].tag]<tagTypes['_v'])||(!
tokens[j].tag&&tokens[j].match(rIsWhitespace)===null);if(!isAllWhitespace){return false;}}return isAllWhitespace;}function filterLine(haveSeenTag,noNewLine){addBuf();if(haveSeenTag&&lineIsWhitespace()){for(var j=lineStart,next;j<tokens.length;j++){if(!tokens[j].tag){if((next=tokens[j+1])&&next.tag=='>'){next.indent=tokens[j].toString()}tokens.splice(j,1);}}}else if(!noNewLine){tokens.push({tag:'\n'});}seenTag=false;lineStart=tokens.length;}function changeDelimiters(text,index){var close='='+ctag,closeIndex=text.indexOf(close,index),delimiters=trim(text.substring(text.indexOf('=',index)+1,closeIndex)).split(' ');otag=delimiters[0];ctag=delimiters[1];return closeIndex+close.length-1;}if(delimiters){delimiters=delimiters.split(' ');otag=delimiters[0];ctag=delimiters[1];}for(i=0;i<len;i++){if(state==IN_TEXT){if(tagChange(otag,text,i)){--i;addBuf();state=IN_TAG_TYPE;}else{if(text.charAt(i)=='\n'){filterLine(seenTag);}else{buf+=text.charAt(i);}}}else if(state==IN_TAG_TYPE){i+=otag.length-1;
tag=tagTypes[text.charAt(i+1)];tagType=tag?text.charAt(i+1):'_v';if(tagType=='='){i=changeDelimiters(text,i);state=IN_TEXT;}else{if(tag){i++;}state=IN_TAG;}seenTag=i;}else{if(tagChange(ctag,text,i)){tokens.push({tag:tagType,n:trim(buf),otag:otag,ctag:ctag,i:(tagType=='/')?seenTag-ctag.length:i+otag.length});buf='';i+=ctag.length-1;state=IN_TEXT;if(tagType=='{'){if(ctag=='}}'){i++;}else{cleanTripleStache(tokens[tokens.length-1]);}}}else{buf+=text.charAt(i);}}}filterLine(seenTag,true);return tokens;}
function cleanTripleStache(token){if(token.n.substr(token.n.length-1)==='}'){token.n=token.n.substring(0,token.n.length-1);}}function trim(s){if(s.trim){return s.trim();}return s.replace(/^\s*|\s*$/g,'');}function tagChange(tag,text,index){if(text.charAt(index)!=tag.charAt(0)){return false;}for(var i=1,l=tag.length;i<l;i++){if(text.charAt(index+i)!=tag.charAt(i)){return false;}}return true;}function buildTree(tokens,kind,stack,customTags){var instructions=[],opener=null,token=null;while(tokens.length>0){token=tokens.shift();if(token.tag=='#'||token.tag=='^'||isOpener(token,customTags)){stack.push(token);token.nodes=buildTree(tokens,token.tag,stack,customTags);instructions.push(token);}else if(token.tag=='/'){if(stack.length===0){throw new Error('Closing tag without opener: /'+token.n);}opener=stack.pop();if(token.n!=opener.n&&!isCloser(token.n,opener.n,customTags)){throw new Error('Nesting error: '+opener.n+' vs. '+token.n);}opener.end=token.i;return instructions;}else{instructions.
push(token);}}if(stack.length>0){throw new Error('missing closing tag: '+stack.pop().n);}return instructions;}function isOpener(token,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].o==token.n){token.tag='#';return true;}}}function isCloser(close,open,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].c==close&&tags[i].o==open){return true;}}}Hogan.generate=function(tree,text,options){var code='var _=this;_.b(i=i||"");'+walk(tree)+'return _.fl();';if(options.asString){return'function(c,p,i){'+code+';}';}return new Hogan.Template(new Function('c','p','i',code),text,Hogan,options);}
function esc(s){return s.replace(rSlash,'\\\\').replace(rQuot,'\\\"').replace(rNewline,'\\n').replace(rCr,'\\r');}function chooseMethod(s){return(~s.indexOf('.'))?'d':'f';}function walk(tree){var code='';for(var i=0,l=tree.length;i<l;i++){var tag=tree[i].tag;if(tag=='#'){code+=section(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n),tree[i].i,tree[i].end,tree[i].otag+" "+tree[i].ctag);}else if(tag=='^'){code+=invertedSection(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n));}else if(tag=='<'||tag=='>'){code+=partial(tree[i]);}else if(tag=='{'||tag=='&'){code+=tripleStache(tree[i].n,chooseMethod(tree[i].n));}else if(tag=='\n'){code+=text('"\\n"'+(tree.length-1==i?'':' + i'));}else if(tag=='_v'){code+=variable(tree[i].n,chooseMethod(tree[i].n));}else if(tag===undefined){code+=text('"'+esc(tree[i])+'"');}}return code;}function section(nodes,id,method,start,end,tags){return'if(_.s(_.'+method+'("'+esc(id)+'",c,p,1),'+'c,p,0,'+start+','+end+',"'+tags+'")){'+'_.rs(c,p,'+'function(c,p,_){'+walk(
nodes)+'});c.pop();}';}function invertedSection(nodes,id,method){return'if(!_.s(_.'+method+'("'+esc(id)+'",c,p,1),c,p,1,0,0,"")){'+walk(nodes)+'};';}function partial(tok){return'_.b(_.rp("'+esc(tok.n)+'",c,p,"'+(tok.indent||'')+'"));';}function tripleStache(id,method){return'_.b(_.t(_.'+method+'("'+esc(id)+'",c,p,0)));';}function variable(id,method){return'_.b(_.v(_.'+method+'("'+esc(id)+'",c,p,0)));';}function text(id){return'_.b('+id+');';}Hogan.parse=function(tokens,text,options){options=options||{};return buildTree(tokens,'',[],options.sectionTags||[]);},Hogan.cache={};Hogan.compile=function(text,options){options=options||{};var key=text+'||'+!!options.asString;var t=this.cache[key];if(t){return t;}t=this.generate(this.parse(this.scan(text,options.delimiters),text,options),text,options);return this.cache[key]=t;};})(typeof exports!=='undefined'?exports:Hogan);(function(M){function extend(prototype){var Parent=this,key;function Child(){return Parent.apply(this,arguments);}function
Surrogate(){}Surrogate.prototype=Parent.prototype;Child.prototype=new Surrogate();for(key in prototype){if(typeof prototype[key]==='function'&&typeof Parent.prototype[key]==='function'){Child.prototype[key]=(function(key,fn){return function(){var tmp=this._super,ret;this._super=Parent.prototype[key];ret=fn.apply(this,arguments);this._super=tmp;return ret;};})(key,prototype[key]);}else{Child.prototype[key]=prototype[key];}}Child.extend=extend;return Child;}M.define('oop',{extend:extend});}(mw.mobileFrontend));(function(M,$){var oop=M.require('oop'),EventEmitter=M.require('eventemitter'),api;$.ajaxSetup({url:M.getApiUrl(),dataType:'json',data:{format:'json'}});function Api(options){this.requests=[];this.tokenCache={};this.initialize(options);}Api.prototype=new EventEmitter();Api.prototype.initialize=function(){};Api.prototype.ajax=function(data,options){var key,request;options=$.extend({},options);if(typeof data!=='string'&&(typeof FormData==='undefined'||!(data instanceof FormData))){
for(key in data){if(data[key]===false){delete data[key];}else if($.isArray(data[key])){data[key]=data[key].join('|');}}}options.data=data;request=$.ajax(options);this.requests.push(request);return request;};Api.prototype.get=function(data,options){options=$.extend({},options,{type:'GET'});return this.ajax(data,options);};Api.prototype.post=function(data,options){options=$.extend({},options,{type:'POST'});return this.ajax(data,options);};Api.prototype.abort=function(){this.requests.forEach(function(request){request.abort();});};Api.prototype.getToken=function(tokenType,endpoint,caToken){var data,d=$.Deferred(),isCacheable;tokenType=tokenType||'edit';isCacheable=tokenType!=='centralauth';if(!this.tokenCache[endpoint]){this.tokenCache[endpoint]={};}if(!M.isLoggedIn()){return d.reject('Token requested when not logged in.');}else if(isCacheable&&this.tokenCache[endpoint].hasOwnProperty(tokenType)){return this.tokenCache[endpoint][tokenType];}else{data={action:'tokens',type:tokenType};if(
endpoint){data.origin=M.getOrigin();if(caToken){data.centralauthtoken=caToken;}}this.ajax(data,{url:endpoint||M.getApiUrl(),xhrFields:{withCredentials:true}}).then(function(tokenData){var token;if(tokenData&&tokenData.tokens&&!tokenData.warnings){token=tokenData.tokens[tokenType+'token'];if(token&&token!=='+\\'){d.resolve(token);}else{d.reject('Anonymous token.');}}else{d.reject('Bad token name.');}});this.tokenCache[endpoint][tokenType]=d;return d;}};Api.extend=oop.extend;api=new Api();api.Api=Api;M.define('api',api);}(mw.mobileFrontend,jQuery));(function(M,$){var oop=M.require('oop'),EventEmitter=M.require('eventemitter');function View(options){options=$.extend({},this.defaults,options);if(options.el){this.$el=$(options.el);}else{this.$el=$('<div>');}this.$el.addClass(this.className);if(typeof this.template==='string'){this.template=M.template.compile(this.template);}this.options=options;this.initialize(options);this.render(options);}View.prototype=new EventEmitter();View.prototype.
initialize=function(){};View.prototype.preRender=function(){};View.prototype.postRender=function(){};View.prototype.render=function(data){data=data||this.options;this.preRender(data);if(this.template){this.$el.html(this.template.render(data));}this.postRender(data);};View.prototype.$=function(query){return this.$el.find(query);};['append','prepend','appendTo','prependTo','after','before','insertAfter','insertBefore','remove','detach'].forEach(function(prop){View.prototype[prop]=function(){this.$el[prop].apply(this.$el,arguments);return this;};});View.extend=oop.extend;M.define('view',View);}(mw.mobileFrontend,jQuery));(function(M,$){var View=M.require('view'),Drawer=View.extend({defaults:{cancelMessage:mw.msg('mobile-frontend-drawer-cancel')},className:'drawer position-fixed',postRender:function(){var self=this;this.$('.close').click(function(ev){ev.preventDefault();self.hide();});$(window).on('scroll click',function(){self.hide();});this.appendTo('#mw-mf-page-center');},show:function(
){this.$el.addClass('visible');},hide:function(){this.$el.removeClass('visible');},isVisible:function(){return this.$el.hasClass('visible');},toggle:function(){if(this.isVisible()){this.hide();}else{this.show();}}});M.define('Drawer',Drawer);}(mw.mobileFrontend,jQuery));(function(M,$){var Drawer=M.require('Drawer'),CtaDrawer=Drawer.extend({defaults:{loginCaption:mw.msg('mobile-frontend-watchlist-cta-button-login'),signupCaption:mw.msg('mobile-frontend-watchlist-cta-button-signup'),cancelMessage:mw.msg('mobile-frontend-drawer-cancel')},template:M.template.get('ctaDrawer'),preRender:function(options){var params={returnto:mw.config.get('wgTitle'),returntoquery:options.returnToQuery};options.loginUrl=M.history.getArticleUrl('Special:UserLogin',params);options.signupUrl=M.history.getArticleUrl('Special:UserLogin',$.extend(params,{type:'signup'}));}});M.define('CtaDrawer',CtaDrawer);}(mw.mobileFrontend,jQuery));(function(M,$){var View=M.require('view'),Overlay=View.extend({defaults:{heading:
'',content:'',closeMsg:mw.msg('mobile-frontend-overlay-escape')},template:M.template.get('overlay'),className:'mw-mf-overlay',closeOnBack:false,initialize:function(options){var self=this;this._super(options);this.parent=options.parent;this.isOpened=false;function hideOnRoute(){M.router.one('route',function(ev){if(!self.hide()){ev.preventDefault();hideOnRoute();}});}if(this.closeOnBack){hideOnRoute();}},postRender:function(){var self=this;this.$('.cancel,.confirm').click(function(ev){ev.preventDefault();if(self.closeOnBack){window.history.back();}else{self.hide();}});},show:function(){if(this.parent){this.parent.hide();}this.$el.appendTo('body');this.scrollTop=document.body.scrollTop;$('html').addClass('overlay');$('body').removeClass('navigation-enabled');window.scrollTo(0,1);},hide:function(){this.$el.detach();if(!this.parent){$('html').removeClass('overlay');window.scrollTo(document.body.scrollLeft,this.scrollTop);}else{this.parent.show();}return true;}});M.define('Overlay',Overlay);
}(mw.mobileFrontend,jQuery));(function(M){var View=M.require('view'),ProgressBar;ProgressBar=View.extend({className:'progress-bar',template:'<div class="value"></div>',setValue:function(value){this.$('.value').css('width',value*100+'%');}});M.define('widgets/progress-bar',ProgressBar);}(mw.mobileFrontend));(function(M){var m=(function($){var menu,mfePrefix=M.prefix,inBeta=mw.config.get('wgMFMode')==='beta';function openNavigation(){$('body').addClass('navigation-enabled');}function closeNavigation(){$('body').removeClass('navigation-enabled');}$(function(){var search=document.getElementById('searchInput');$('#mw-mf-menu-main a').click(function(){toggleNavigation();});function isOpen(){return $('body').hasClass('navigation-enabled');}function toggleNavigation(){if(!isOpen()){openNavigation();}else{closeNavigation();}}$('#'+mfePrefix+'main-menu-button').click(function(ev){toggleNavigation();ev.preventDefault();}).on('touchend',function(ev){ev.stopPropagation();});$('#mw-mf-page-center').
on('touchend',function(){if(isOpen()){closeNavigation();}});if(window.location.hash==='#mw-mf-page-left'){openNavigation();$('body').addClass('noTransitions');window.setTimeout(function(){$('body').removeClass('noTransitions');},1000);}$(search).bind('focus',function(){if(!inBeta||$(window).width()<700){closeNavigation();}});});menu={close:closeNavigation,open:openNavigation};return{getMenu:menu};}(jQuery));M.define('navigation',m);}(mw.mobileFrontend));(function(M,$){var m=(function(){var calculatePosition=function(){},inBeta=mw.config.get('wgMFMode')==='beta';if(!M.supportsPositionFixed()){calculatePosition=function(){var h=$('#mf-notification').outerHeight();$('#mf-notification').css({top:(window.innerHeight+window.pageYOffset)-h,bottom:'auto',position:'absolute'});};$(document).scroll(calculatePosition);}function isVisible(){return $('#mf-notification').is(':visible');}function show(html,classes){$('#mf-notification div').html(html);calculatePosition();return $('#mf-notification').
removeAttr('class').addClass(classes).addClass('position-fixed visible');}function close(forceClose){var $notification=$('#mf-notification');if(!$notification.hasClass('visible')){return;}else if(!$notification.hasClass('locked')||forceClose){$('#mf-notification').removeClass('visible');}}function notifyAuthenticatedUser(){var msg=mw.msg('mobile-frontend-logged-in-toast-notification',mw.config.get('wgUserName'));if(window.location.search.indexOf('welcome=yes')>-1){show(msg,'toast');}}function init(firstRun){var el=$('<div id="mf-notification"><div></div></div>').appendTo(document.body)[0];if(inBeta){notifyAuthenticatedUser();}firstRun=firstRun===undefined?true:firstRun;function cancelBubble(ev){ev.stopPropagation();}el.ontouchstart=cancelBubble;$('<button>').click(function(ev){ev.stopPropagation();close(true);}).appendTo('#mf-notification');if(firstRun){$(window).scroll(function(){close();});$(document.body).bind('click touchstart',function(){close();});}}$(init);return{close:close,
isVisible:isVisible,show:show};}());M.define('notifications',m);}(mw.mobileFrontend,jQuery));(function(M){var Overlay=M.require('Overlay'),LearnMoreOverlay;LearnMoreOverlay=Overlay.extend({defaults:{confirmMessage:mw.msg('mobile-frontend-photo-ownership-confirm')},template:M.template.get('overlays/learnMore')});M.define('uploads/LearnMoreOverlay',LearnMoreOverlay);}(mw.mobileFrontend));(function(M,$){var Api=M.require('api').Api,endpoint=mw.config.get('wgMFPhotoUploadEndpoint'),apiUrl=endpoint||M.getApiUrl(),PhotoApi;function trimUtf8String(str,allowedLength){var bytes=0,chars=0,codeUnit,len,i;for(i=0;i<str.length;i++){codeUnit=str.charCodeAt(i);if(codeUnit<0x80){len=1;}else if(codeUnit<0x800){len=2;}else if(codeUnit>=0xd800&&codeUnit<0xe000){len=4;}else{len=3;}if(bytes+len<=allowedLength){bytes+=len;chars++;if(len===4){chars++;i++;}}else{return str.substr(0,chars);}}return str;}function generateFileName(description,fileSuffix,date){var allowedLength=240,name,suffix;fileSuffix=
fileSuffix||'.jpg';date=date||new Date();name=description.replace(/[\x1B\n\x7f\.\[#<>\[\]\|\{\}\/:]/g,'-');function pad(number){return number<10?'0'+number:number;}suffix=' '+date.getFullYear()+'-'+pad(date.getMonth()+1)+'-'+pad(date.getDate())+' '+pad(date.getHours())+'-'+pad(date.getMinutes())+fileSuffix;allowedLength-=suffix.length;return trimUtf8String(name,allowedLength)+suffix;}PhotoApi=Api.extend({useCentralAuthToken:mw.config.get('wgMFUseCentralAuthToken'),updatePage:function(options,callback){var self=this;self.getToken().done(function(token){self.post({action:'edit',title:options.pageTitle,token:token,summary:mw.msg('mobile-frontend-photo-upload-comment'),prependtext:'[[File:'+options.fileName+'|thumbnail|'+options.description+']]\n\n'}).done(callback);});},_handleWarnings:function(result,warnings){var errorMsg='Missing filename: ',humanErrorMsg;if(warnings.exists){errorMsg+='Filename exists';humanErrorMsg=mw.msg('mobile-frontend-photo-upload-error-filename');}else if(
warnings.badfilename){errorMsg+='Bad filename';}else if(warnings.emptyfile){errorMsg+='Empty file';}else if(warnings['filetype-unwanted-type']){errorMsg+='Bad filetype';}else if(warnings['duplicate-archive']){errorMsg+='Duplicate archive';}else if(warnings['large-file']){errorMsg+='Large file';}else{errorMsg+='Unknown warning '+$.toJSON(warnings);}return result.reject(errorMsg,humanErrorMsg);},save:function(options){var self=this,result=$.Deferred();options.editSummaryMessage=options.insertInPage?'mobile-frontend-photo-article-edit-comment':'mobile-frontend-photo-article-donate-comment';function doUpload(token,caToken){var formData=new FormData(),ext=options.file.name.slice(options.file.name.lastIndexOf('.')+1),request;options.fileName=generateFileName(options.description,'.'+ext);formData.append('action','upload');formData.append('format','json');if(endpoint){formData.append('origin',M.getOrigin());if(caToken){formData.append('centralauthtoken',caToken);}}formData.append('filename',
options.fileName);formData.append('comment',mw.msg(options.editSummaryMessage));formData.append('file',options.file);formData.append('token',token);formData.append('text',M.template.get('wikitext/commons-upload').render({suffix:mw.config.get('wgMFPhotoUploadAppendToDesc'),text:options.description,username:mw.config.get('wgUserName')}));request=self.post(formData,{url:apiUrl+'?useformat=mobile&r='+Math.random(),xhrFields:{'withCredentials':true},cache:false,contentType:false,processData:false}).done(function(data){var descriptionUrl='',warnings=data.upload?data.upload.warnings:false;if(!data||!data.upload){result.reject(data.error?data.error.info:'');return;}options.fileName=data.upload.filename;if(!options.fileName){if(warnings&&warnings.duplicate){options.fileName=warnings.duplicate['0'];}else if(warnings){return self._handleWarnings(result,warnings);}else{return result.reject('Missing filename: '+$.toJSON(data.upload));}}if(data.upload.imageinfo){descriptionUrl=data.upload.imageinfo.
descriptionurl;}if(options.insertInPage){self.updatePage(options,function(data){if(!data||data.error){result.reject(data.error.info);}else{result.resolve(options.fileName,descriptionUrl);}});}else{result.resolve(options.fileName,descriptionUrl);}}).fail(function(xhr,status,error){if(status!=='abort'){result.reject(status+': '+error);}});self.on('progress',function(req,progress){if(req===request){self.emit('uploadProgress',progress);}});}function getToken(){return self.getToken.apply(self,arguments).fail($.proxy(result,'reject'));}if(self.useCentralAuthToken&&endpoint){getToken('centralauth').done(function(caTokenForEditToken){getToken('edit',endpoint,caTokenForEditToken).done(function(token){getToken('centralauth').done(function(caTokenForUpload){doUpload(token,caTokenForUpload);});});});}else{getToken('edit',endpoint).done(doUpload);}return result;}});M.define('uploads/PhotoApi',PhotoApi);M.define('_photo',{generateFileName:generateFileName,trimUtf8String:trimUtf8String});}(mw.
mobileFrontend,jQuery));(function(M,$){var Overlay=M.require('Overlay'),LearnMoreOverlay=M.require('uploads/LearnMoreOverlay'),NagOverlay;NagOverlay=Overlay.extend({defaults:{learnMore:mw.msg('parentheses',mw.msg('mobile-frontend-learn-more'))},template:M.template.get('photoNag'),initialize:function(){this.learnMoreOverlay=new LearnMoreOverlay({parent:this,heading:mw.msg('mobile-frontend-photo-nag-learn-more-heading'),bulletPoints:[mw.msg('mobile-frontend-photo-nag-learn-more-1'),mw.msg('mobile-frontend-photo-nag-learn-more-2'),mw.msg('mobile-frontend-photo-nag-learn-more-3')]});},postRender:function(options){var self=this,$checkboxes=this.$('input[type=checkbox]');this._super(options);function disable($checkbox){$checkbox.prop('disabled',true);$checkbox.parent().removeClass('active');}function enable($checkbox){$checkbox.prop('disabled',false);$checkbox.parent().addClass('active');}self.$('li button').on('click',$.proxy(self.learnMoreOverlay,'show'));disable($checkboxes.not(':first'))
;enable($checkboxes.eq(0));$checkboxes.on('click',function(){var $checkbox=$(this),$next;$checkbox.parent().addClass('checked');$next=$checkboxes.not(':checked').eq(0);disable($checkbox);if(!$next.length){self.emit('confirm');}else{enable($next);}});},setImageUrl:function(url){this.$('.preview').removeClass('loading').css('background-image','url('+url+')');}});M.define('uploads/NagOverlay',NagOverlay);}(mw.mobileFrontend,jQuery));(function(M){var View=M.require('view'),popup=M.require('notifications'),ProgressBar=M.require('widgets/progress-bar'),PhotoUploadProgress;PhotoUploadProgress=View.extend({defaults:{waitMessage:mw.msg('mobile-frontend-image-uploading-wait'),cancelMessage:mw.msg('mobile-frontend-image-uploading-cancel'),messageInterval:10000},template:('<p class="wait">{{waitMessage}}</p>'+'<p class="cancel">{{{cancelMessage}}}</p>'),postRender:function(options){var self=this,longMessage=false;this.$('a').on('click',function(){popup.close(true);self.emit('cancel');return false;
});setInterval(function(){if(longMessage){self.$('.wait').text(mw.msg('mobile-frontend-image-uploading-wait'));}else{self.$('.wait').text(mw.msg('mobile-frontend-image-uploading-long'));}longMessage=!longMessage;},options.messageInterval);},setValue:function(value){if(!this.progressBar){this.progressBar=new ProgressBar();this.progressBar.appendTo(this.$el);}this.progressBar.setValue(value);}});M.define('uploads/PhotoUploadProgress',PhotoUploadProgress);}(mw.mobileFrontend));(function(M,$){var View=M.require('view'),Overlay=M.require('Overlay'),LearnMoreOverlay=M.require('uploads/LearnMoreOverlay'),ownershipMessage=mw.msg('mobile-frontend-photo-ownership',mw.config.get('wgUserName'),mw.user),PhotoUploaderPreview;PhotoUploaderPreview=View.extend({defaults:{loadingMessage:mw.msg('mobile-frontend-image-loading'),license:mw.msg('mobile-frontend-photo-license'),cancelButton:mw.msg('mobile-frontend-photo-cancel'),submitButton:mw.msg('mobile-frontend-photo-submit'),descriptionPlaceholder:mw.
msg('mobile-frontend-photo-caption-placeholder'),help:mw.msg('mobile-frontend-photo-ownership-help'),ownerStatement:ownershipMessage},template:M.template.get('photoUploadPreview'),initialize:function(options){this.log=options.log;},postRender:function(){var self=this,$overlay,$description,$submitButton;this.overlay=new Overlay({content:$('<div>').html(this.$el).html()});$overlay=this.overlay.$el;$description=$overlay.find('textarea');$submitButton=$overlay.find('button.submit');this.$description=$description;$overlay.find('.license a').attr('target','_blank');$description.on('keyup input',function(){if($description.val()){$submitButton.removeAttr('disabled');}else{$submitButton.attr('disabled',true);}});$submitButton.on('click',function(){self.emit('submit');});$overlay.find('button.cancel').on('click',function(){self.emit('cancel');});},getDescription:function(){return this.$description.val();},setImageUrl:function(url){var self=this;this.imageUrl=url;this.overlay.$('.loading').remove
();this.overlay.$('a.help').on('click',function(ev){ev.preventDefault();var overlay=new LearnMoreOverlay({parent:self.overlay,bulletPoints:[mw.msg('mobile-frontend-photo-ownership-bullet-one'),mw.msg('mobile-frontend-photo-ownership-bullet-two'),mw.msg('mobile-frontend-photo-ownership-bullet-three')],leadText:ownershipMessage});overlay.show();self.log({action:'whatDoesThisMean'});});$('<img>').attr('src',url).prependTo(this.overlay.$('.photoPreview'));}});M.define('uploads/PhotoUploaderPreview',PhotoUploaderPreview);}(mw.mobileFrontend,jQuery));(function(M,$){var View=M.require('view'),popup=M.require('notifications'),CtaDrawer=M.require('CtaDrawer'),NagOverlay=M.require('uploads/NagOverlay'),PhotoApi=M.require('uploads/PhotoApi'),PhotoUploadProgress=M.require('uploads/PhotoUploadProgress'),PhotoUploaderPreview=M.require('uploads/PhotoUploaderPreview'),PhotoUploader,PhotoUploaderButton,PhotoUploaderPageActionButton;function isSupported(){if(navigator.userAgent.match(
/Windows Phone (OS 7|8.0)/)){return false;}var browserSupported=(typeof FileReader!=='undefined'&&typeof FormData!=='undefined'&&($('<input type="file"/>').prop('type')==='file'));return browserSupported&&!mw.config.get('wgImagesDisabled',false);}function getLog(funnel){return function(data){if(mw.config.get('wgArticleId',-1)!==-1){data.pageId=mw.config.get('wgArticleId');}M.log('MobileWebUploads',$.extend({token:M.getSessionId(),funnel:funnel,username:mw.config.get('wgUserName'),isEditable:mw.config.get('wgIsPageEditable'),mobileMode:mw.config.get('wgMFMode'),userAgent:window.navigator.userAgent},data));};}PhotoUploader=View.extend({initialize:function(options){this.log=getLog(options.funnel);},postRender:function(){var self=this,$input=this.$('input'),ctaDrawer;if(!M.isLoggedIn()){ctaDrawer=new CtaDrawer({content:mw.msg('mobile-frontend-photo-upload-cta'),returnToQuery:'article_action=photo-upload'});this.$el.click(function(ev){if(!ctaDrawer.isVisible()){ctaDrawer.show();}else{
ctaDrawer.hide();}ev.preventDefault();ev.stopPropagation();});return;}$input.attr('accept','image/*;').on('change',function(){var nagCount=parseInt(M.settings.getUserSetting('uploadNagCount')||0,10),shouldNag=(mw.config.get('wgMFMode')!=='stable'&&parseInt(mw.config.get('wgUserEditCount'),10)<3),fileReader=new FileReader(),nagOverlay;self.preview=new PhotoUploaderPreview({log:self.log});self.file=$input[0].files[0];$input.val('');if((nagCount===0&&shouldNag)||(nagCount>0&&nagCount<3)){nagOverlay=self._showNagOverlay(nagCount);}else{self._showPreview();}fileReader.readAsDataURL(self.file);fileReader.onload=function(){var dataUrl=fileReader.result;dataUrl=dataUrl.replace(/^data:base64/,'data:image/jpeg;base64');if(nagOverlay){nagOverlay.setImageUrl(dataUrl);}self.preview.setImageUrl(dataUrl);};});},_showNagOverlay:function(nagCount){var self=this,nagMessages=[],nagOverlay;switch(nagCount){case 0:nagMessages=$.map([2,1],function(val){return{heading:mw.msg(
'mobile-frontend-photo-nag-1-bullet-'+val+'-heading'),text:mw.msg('mobile-frontend-photo-nag-1-bullet-'+val+'-text')};});break;case 1:case 2:nagMessages=[{heading:mw.msg('mobile-frontend-photo-nag-'+(nagCount+1)+'-bullet-1-heading')}];break;}nagOverlay=new NagOverlay({nagMessages:nagMessages});nagOverlay.on('confirm',$.proxy(self,'_showPreview')).show();M.settings.saveUserSetting('uploadNagCount',nagCount+1);return nagOverlay;},_showPreview:function(){var self=this;self.log({action:'preview'});self.preview.on('cancel',function(){self.log({action:'previewCancel'});}).on('submit',function(){self.log({action:'previewSubmit'});self._submit();});self.preview.overlay.show();window.scrollTo(0,1);},_submit:function(){var self=this,description=this.preview.getDescription(),api=new PhotoApi(),progressPopup=new PhotoUploadProgress();this.emit('start');this.preview.overlay.hide();popup.show(progressPopup.$el,'locked noButton loading');progressPopup.on('cancel',function(){api.abort();self.log({
action:'cancel'});self.emit('cancel');});api.save({file:this.file,description:description,insertInPage:this.options.insertInPage,pageTitle:this.options.pageTitle}).done(function(fileName,descriptionUrl){popup.close();self.log({action:'success'});self.emit('success',{fileName:fileName,description:description,descriptionUrl:descriptionUrl,url:self.preview.imageUrl});}).fail(function(err,msg){popup.show(msg||mw.msg('mobile-frontend-photo-upload-error'),'toast error');self.log({action:'error',errorText:err});self.emit('error');});api.on('uploadProgress',function(value){progressPopup.setValue(value);});}});PhotoUploaderButton=PhotoUploader.extend({template:M.template.get('photoUploader'),className:'button photo'});PhotoUploaderPageActionButton=PhotoUploader.extend({template:M.template.get('photoUploadAction'),className:'enabled'});PhotoUploaderButton.isSupported=PhotoUploaderPageActionButton.isSupported=isSupported();M.define('uploads/PhotoUploaderButton',PhotoUploaderButton);M.define(
'uploads/PhotoUploaderPageActionButton',PhotoUploaderPageActionButton);}(mw.mobileFrontend,jQuery));(function(M){var View=M.require('view'),LeadPhoto;LeadPhoto=View.extend({template:M.template.get('leadPhoto'),animate:function(){this.$el.hide().slideDown();}});M.define('uploads/LeadPhoto',LeadPhoto);}(mw.mobileFrontend));;},{},{"mobile-frontend-logged-in-toast-notification":"Logged in as $1.","mobile-frontend-watchlist-cta-button-signup":"Sign up","mobile-frontend-watchlist-cta-button-login":"Login","mobile-frontend-drawer-cancel":"Cancel","mobile-frontend-overlay-escape":"Go back","mobile-frontend-photo-ownership-confirm":"Got it!","mobile-frontend-photo-article-edit-comment":"Added image for use on page","mobile-frontend-photo-article-donate-comment":"Contributed image from Special:Uploads","mobile-frontend-photo-upload-error-filename":"Error, please provide a more descriptive summary.","mobile-frontend-photo-upload-comment":"Added image to page","mobile-frontend-photo-upload-error":
"Error, try again.","mobile-frontend-photo-upload-cta":"Please login or sign up to add an image.","mobile-frontend-photo-ownership":"I, $1, created this image.","mobile-frontend-photo-ownership-help":"What does this mean?","mobile-frontend-photo-caption-placeholder":"Add a description (required)","mobile-frontend-image-loading":"Loading image","mobile-frontend-photo-submit":"Submit","mobile-frontend-photo-cancel":"Cancel","mobile-frontend-photo-ownership-bullet-one":"We can only accept images that you own. Please do not upload images you found somewhere else on the Internet.","mobile-frontend-photo-ownership-bullet-two":"Copyrighted and inappropriate images will be removed.","mobile-frontend-photo-ownership-bullet-three":"Your uploads are released under a license that allows anyone to reuse them for free.","mobile-frontend-image-uploading-wait":"Uploading image, please wait.","mobile-frontend-image-uploading-long":"Image still uploading! Thanks for your patience.",
"mobile-frontend-image-uploading-cancel":"\u003Ca href=\"#\"\u003ECancel\u003C/a\u003E if this is taking too long."});mw.loader.implement("mobile.stable.plumbing",function(){mw.messages.set("mobile-frontend-photo-license","By clicking \"Submit\", you agree to our \u003Ca class=\"external text\" href=\"//wikimediafoundation.org/wiki/Terms_of_use\"\u003ETerms of Use\u003C/a\u003E and agree to release your image under the \u003Ca rel=\"nofollow\" class=\"external text\" href=\"//creativecommons.org/licenses/by-sa/3.0/\"\u003ECreative Commons Attribution-ShareAlike 3.0 License\u003C/a\u003E.");mw.messages.set("mobile-frontend-photo-nag-1-bullet-1-text","It is \u003Cb\u003Enot\u003C/b\u003E an image I found on the Internet. It is my own work.");mw.messages.set("mobile-frontend-photo-nag-learn-more-1","\u003Cb\u003EYes!\u003C/b\u003E Photos you took of places, objects, and events.");mw.messages.set("mobile-frontend-photo-nag-learn-more-2",
"\u003Cb\u003EYes!\u003C/b\u003E Photos that can help illustrate and enrich Wikipedia pages.");mw.messages.set("mobile-frontend-photo-nag-learn-more-3","\u003Cb\u003ENo.\u003C/b\u003E Photos of movie posters, book covers or other copyrighted material. These will be deleted.");mw.mobileFrontend.template.add("wikitext/commons-upload","{{=\u003C% %\u003E=}}\n== {{int:filedesc}} ==\n{{Information\n|description=\u003C%text%\u003E\n|source={{own}}\n|author=[[User:\u003C%username%\u003E]]\n}}\u003C%suffix%\u003E\n\n== {{int:license-header}} ==\n{{self|cc-by-sa-3.0}}\n");mw.mobileFrontend.template.add("leadPhoto","\u003Cdiv class=\"thumb tright\"\u003E\n\t\u003Cdiv class=\"thumbinner\" style=\"width:222px;\"\u003E\n\t\t\u003Ca href=\"{{pageUrl}}\" class=\"image\"\u003E\n\t\t\t\u003Cimg alt=\"{{caption}}\" src=\"{{url}}\" class=\"thumbimage\"\u003E\n\t\t\u003C/a\u003E\n\t\t\u003Cdiv class=\"thumbcaption\"\u003E{{caption}}\u003C/div\u003E\n\t\u003C/div\u003E\n\u003C/div\u003E\n");mw.
mobileFrontend.template.add("overlay","\u003Cdiv class=\"header\"\u003E\n\t\u003Cbutton class=\"cancel\"\u003E{{closeMsg}}\u003C/button\u003E\n\t{{{heading}}}\n\u003C/div\u003E\n{{{content}}}\n");mw.mobileFrontend.template.add("overlays/cleanup","\u003Cdiv class=\"header\"\u003E\n\t\u003Cbutton class=\"cancel\"\u003E{{closeMsg}}\u003C/button\u003E\n\t\u003Ch2\u003E{{heading}}\u003C/h2\u003E\n\u003C/div\u003E\n\u003Cdiv class=\"content\"\u003E\n\t{{{content}}}\n\u003C/div\u003E\n");mw.mobileFrontend.template.add("overlays/learnMore",
"\u003Cdiv class=\"header\"\u003E\n\t\u003Cbutton class=\"cancel\"\u003E{{closeMsg}}\u003C/button\u003E\n\t{{#heading}}\n\t\u003Ch2\u003E{{heading}}\u003C/h2\u003E\n\t{{/heading}}\n\u003C/div\u003E\n\u003Cdiv class=\"content\"\u003E\n\t{{#leadText}}\n\t\u003Cp\u003E{{leadText}}\u003C/p\u003E\n\t{{/leadText}}\n\n\t\u003Cul class=\"informative\"\u003E\n\t\t{{#bulletPoints}}\n\t\t\u003Cli\u003E{{{.}}}\u003C/li\u003E\n\t\t{{/bulletPoints}}\n\t\u003C/ul\u003E\n\t\u003Cbutton class=\"confirm\"\u003E{{confirmMessage}}\u003C/button\u003E\n\u003C/div\u003E\n");mw.mobileFrontend.template.add("overlays/search/search",
"\u003Cdiv class=\"header\"\u003E\n\t\u003Cbutton class=\"cancel\"\u003E{{closeMsg}}\u003C/button\u003E\n\t\u003Cform class=\"search-box\" method=\"get\" action=\"{{action}}\"\u003E\n\t\t\u003Cinput type=\"search\" class=\"search\" name=\"search\"\u003E\n\t\t\u003Ca class=\"clear\"\u003E\u003C/a\u003E\n\t\u003C/form\u003E\n\u003C/div\u003E\n\u003Cul class=\"suggestions-results\"\u003E\n\t\u003Cli\u003E{{explanation}}\u003C/li\u003E\n\u003C/ul\u003E\n");mw.mobileFrontend.template.add("overlays/search/results","\u003Cli class=\"no-results\"\u003E{{noresults}}\u003C/li\u003E\n{{#results}}\n\t\u003Cli title=\"{{title}}\"\u003E\n\t\t\u003Ca href=\"{{url}}\" data-title=\"{{title}}\"\u003E{{{label}}}\u003C/a\u003E\n\t\u003C/li\u003E\n{{/results}}\n");mw.mobileFrontend.template.add("photoUploadAction","\u003Cinput name=\"file\" type=\"file\"\u003E\n");mw.mobileFrontend.template.add("photoUploader",
"{{buttonCaption}}\n\u003Cdiv\u003E\u003Cinput name=\"file\" type=\"file\"\u003E\u003C/div\u003E\n");mw.mobileFrontend.template.add("photoUploadPreview","\u003Cdiv class=\"content photoPreview\"\u003E\n\t\u003Cp class=\"loading\"\u003E{{loadingMessage}}\u003C/p\u003E\n\t\u003Cp\u003E{{ownerStatement}} \u003Ca href=\"#\" class=\"help\"\u003E{{help}}\u003C/a\u003E\u003C/p\u003E\n\t\u003Ctextarea name=\"description\" placeholder=\"{{descriptionPlaceholder}}\"\u003E\u003C/textarea\u003E\n\t\u003Cdiv class=\"license\"\u003E{{{license}}}\u003C/div\u003E\n\u003C/div\u003E\n\u003Cdiv class=\"position-fixed buttonBar\"\u003E\n\t\u003Cbutton class=\"cancel\"\u003E{{cancelButton}}\u003C/button\u003E\n\t\u003Cbutton class=\"submit\" disabled\u003E{{submitButton}}\u003C/button\u003E\n\u003C/div\u003E\n");mw.mobileFrontend.template.add("photoNag",
"\u003Cdiv class=\"header\"\u003E\n\t\u003Cbutton class=\"cancel\"\u003E{{closeMsg}}\u003C/button\u003E\n\u003C/div\u003E\n\u003Cdiv class=\"photo-nag\"\u003E\n\t\u003Cdiv class=\"preview loading\"\u003E\u003C/div\u003E\n\t\u003Cdiv class=\"content\"\u003E\n\t\t\u003Cul\u003E\n\t\t\t{{#nagMessages}}\n\t\t\t\u003Cli\u003E\n\t\t\t\t\u003Clabel\u003E\n\t\t\t\t\t\u003Cdiv\u003E\u003Cinput type=\"checkbox\"\u003E\u003C/div\u003E\n\t\t\t\t\t\u003Cstrong\u003E{{heading}}\u003C/strong\u003E\n\t\t\t\t\t{{{text}}}\n\t\t\t\t\u003C/label\u003E\n\t\t\t\t\u003Cbutton class=\"inline\"\u003E{{learnMore}}\u003C/button\u003E\n\t\t\t\u003C/li\u003E\n\t\t\t{{/nagMessages}}\n\t\t\u003C/ul\u003E\n\t\u003C/div\u003E\n\u003C/div\u003E\n");mw.mobileFrontend.template.add("ctaDrawer",
"\u003Ca class=\"close\" href=\"#\"\u003E{{cancelMessage}}\u003C/a\u003E\n\u003Cp\u003E{{content}}\u003C/p\u003E\n\u003Ca class=\"button\" href=\"{{loginUrl}}\"\u003E{{loginCaption}}\u003C/a\u003E\n\u003Ca class=\"signup\" href=\"{{signupUrl}}\"\u003E{{signupCaption}}\u003C/a\u003E\n");},{},{"mobile-frontend-photo-nag-1-bullet-1-heading":"I'm not violating copyright","mobile-frontend-photo-nag-1-bullet-2-heading":"This is not a personal image","mobile-frontend-photo-nag-1-bullet-2-text":"And it can help illustrate an important topic.","mobile-frontend-photo-nag-2-bullet-1-heading":"Positively not violating copyright, and this image is educational.","mobile-frontend-photo-nag-3-bullet-1-heading":"I understand what to upload. Don't show this message again.","parentheses":"($1)","mobile-frontend-learn-more":"Learn more","mobile-frontend-photo-nag-learn-more-heading":"What to upload"});mw.loader.implement("mobile.stable.styles",function(){},{"css":[
".loading{background-image:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/common/images/ajax-loader.gif?2013-06-13T15:20:00Z);min-height:56px;background-repeat:no-repeat;background-position:center}.loading.content{padding-top:48px;text-align:center;background-position:50% 0}.progress-bar{width:100%;height:8px;border:1px solid #9ea0a3;box-shadow:inset 0 0 4px #bbbbbb}.progress-bar .value{width:0;height:100%;background:#3366bb} input.search{ }input.search.searching{background-color:#eee}.full-screen-search .search-box{padding-right:8px}form .clear{top:9px;right:10px;width:24px;height:30px;background:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/../common/images/close-button-beta.png?2013-06-13T15:20:00Z) no-repeat scroll 0 0 transparent;margin:0;background-position:right center; -moz-background-size:auto 12px;-o-background-size:auto 12px;-webkit-background-size:auto 12px;background-size:auto 12px;cursor:pointer;position:absolute}#results{display:none;width:100%}#remove-results{display:none}.full-screen-search .header{z-index:2;color:white;background-color:#f3f3f3;background-image:-moz-linear-gradient(top,#fafafa 0,#f3f3f3 100%);background-image:-ms-linear-gradient(top,#fafafa 0,#f3f3f3 100%);background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#fafafa),color-stop(100%,#f3f3f3));background-image:-webkit-linear-gradient(top,#fafafa 0,#f3f3f3 100%);background-image:linear-gradient(#fafafa 0,#f3f3f3 100%)}.full-screen-search #results,.full-screen-search .search-box.notEmpty .clearlink,.full-screen-search #remove-results{display:block}.full-screen-search #mw-mf-page-left,.full-screen-search #mw-mf-main-menu-button,.full-screen-search #footer,.full-screen-search #zero-rated-banner-red,.full-screen-search #zero-rated-banner,.full-screen-search #mw-mf-logo,.full-screen-search #content_wrapper,.full-screen-search .goButton{display:none !important}.full-screen-search #results{left:0;width:100% !important;max-height:99999px;border:none;z-index:1;background-color:#E6E6E6;position:relative;opacity:1}ul.suggestions-results{padding:0;position:relative;padding-bottom:20px;cursor:pointer;margin:0;background-color:white;list-style:none}ul.suggestions-results li{color:#666;border:none;position:relative;border-bottom:solid 1px #999999;border-bottom:solid 1px #eee;padding:12px 40px;font-size:0.9em}ul.suggestions-results li a{display:block;text-decoration:none;color:#666}ul.suggestions-results li a:active,ul.suggestions-results li a:hover,ul.suggestions-results li a:visited{text-decoration:none;color:#666}ul.suggestions-results li:hover{background-color:#ACD1E9} .page-loading .section{opacity:0.2}.page-loading.togglingEnabled .section{opacity:1}.togglingEnabled .section_heading{background-image:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/images/show.png?2013-06-13T15:20:00Z);background-position:right center;background-repeat:no-repeat; -moz-background-size:auto 9px;-o-background-size:auto 9px;-webkit-background-size:auto 9px;background-size:auto 9px;cursor:pointer}.togglingEnabled .section_heading.openSection{background-image:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/images/hide.png?2013-06-13T15:20:00Z)}.content_block{width:100%}.togglingEnabled .content_block{position:relative;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0); }.togglingEnabled #footer .content_block,.togglingEnabled .content_block:last-child{border-bottom:none}.togglingEnabled a.section_anchors{display:none;margin-bottom:5px;margin-top:7px;color:blue}.togglingEnabled a.section_anchors.openSection{display:block}.togglingEnabled .openSection.content_block{-webkit-tap-highlight-color:normal; }.page-loading .section_anchors,.page-loading .content_block,.togglingEnabled .content_block{display:none}.page-loading .section_anchors.openSection,.page-loading .content_block.openSection,.togglingEnabled .content_block.openSection{display:block}.togglingEnabled .openSection.content_block{display:block}#content_wrapper .section{clear:both;border-bottom:solid 1px #E2E3E4} ol.references \u003E li:target,sup.reference:target,span.citation:target,cite:target{background-color:#ddeeff}a.mw-mf-cleanup{display:block;padding:10px 15px 10px 44px;background-image:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/images/issues-blue.png?2013-06-13T15:20:00Z);background-repeat:no-repeat;margin-bottom:4px; -moz-background-size:24px 24px;-o-background-size:24px 24px;-webkit-background-size:24px 24px;background-size:24px 24px;background-position:10px center}a.mw-mf-cleanup:hover{background-image:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/images/issues-gray.png?2013-06-13T15:20:00Z);text-decoration:none;color:#565656;background-color:#f0f0f0} td.mbox-image div{width:100% !important}.mbox-text div{text-align:center !important}th.mbox-text,td.mbox-text,td.mbox-image{display:block;width:100%;-moz-box-sizing:border-box;-o-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center !important}td.mbox-image div,th.mbox-text,td.mbox-text,td.mbox-image,table.ambox-content{-moz-box-sizing:border-box;-o-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}table.ambox-content{border-left:1px solid #AAA;border-bottom:10px solid #F28500}a.watch-this-article.loading{background-image:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/../common/images/ajax-loader.gif?2013-06-13T15:20:00Z);min-height:auto}.animations .watch-this-article{-webkit-backface-visibility:hidden;-webkit-transition-property:-webkit-transform;transition-property:transform;-webkit-transition-duration:0.5s;transition-duration:0.5s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.animations .watch-this-article.watched{-webkit-transform:rotate(72deg);transform:rotate(72deg)}li a.watch-this-article{right:8px;top:0;bottom:0;height:100%;width:24px;background-position:center center;margin:0} #mf-notification div.watch-action{background-image:url(images/watch.png);padding-left:40px;background-repeat:no-repeat;background-position:8px center;background-size:24px 24px}#mf-notification div.watch-action.watched{background-image:url(images/watched.png)}.button.photo{position:relative;display:table;margin:0 auto;padding-left:44px;text-align:left; }.button.photo div{background:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/images/camera.png?2013-06-13T15:20:00Z) 10px 45% no-repeat; -moz-background-size:24px auto;-o-background-size:24px auto;-webkit-background-size:24px auto;background-size:24px auto}.button.photo input{opacity:0;z-index:2}.button.photo input,.button.photo div{cursor:pointer;position:absolute;top:0;left:0;width:100%;height:100%}#content \u003E .button.photo{display:block;margin-bottom:10px}.photoPreview{padding-bottom:70px !important}.photoPreview .help{display:block}.photoPreview img{height:90px;float:left;margin:0 8px 8px 0}.photoPreview .loading{background-position:0 50%;padding:0 0 0 48px;margin:0;line-height:90px}.photoPreview .license{background:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/images/cc-by-sa.png?2013-06-13T15:20:00Z) no-repeat;background-size:auto 22px;padding:26px 0 0;margin:1em 0;color:#707070;font-size:.75em;line-height:150%}.photoPreview textarea{width:100%;height:6em}.photoPreview textarea::-webkit-input-placeholder,.photoPreview textarea::-moz-placeholder{text-align:center;line-height:6em}@keyframes pulse{from{opacity:1}to{opacity:0.2}}@-webkit-keyframes pulse{from{opacity:1}to{opacity:0.2}}.photo-nag{height:90%}.photo-nag .preview{height:50%; -moz-background-size:100% auto;-o-background-size:100% auto;-webkit-background-size:100% auto;background-size:100% auto;background-repeat:no-repeat}.photo-nag .preview.loading{ -moz-background-size:auto auto;-o-background-size:auto auto;-webkit-background-size:auto auto;background-size:auto auto;background-position:50% 50%}.photo-nag li{clear:both;min-height:50px;padding:0 0 1em 73px;line-height:1.25}.photo-nag label div{float:left;width:50px;height:50px;margin:0 0 0 -73px;font-size:40px;font-weight:bold;line-height:50px;border:3px solid #939393;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;background:#e6e7e8 url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/images/confirm.png?2013-06-13T15:20:00Z) 50% 50% no-repeat; -moz-background-size:24px 24px;-o-background-size:24px 24px;-webkit-background-size:24px 24px;background-size:24px 24px}.photo-nag label div input{display:none}.photo-nag label div.checked{background-color:#006398;background-image:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/modules/images/confirmChecked.png?2013-06-18T20:01:40Z);border-color:#006398}.photo-nag strong{padding:.3em 0;display:block;font-weight:normal;font-size:1.2em;line-height:1}.animations .photo-nag label div.active{-webkit-animation:pulse 1s ease-in-out infinite alternate;animation:pulse 1s ease-in-out infinite alternate}@media (min-width:700px){.photo-nag .preview{ -moz-background-size:auto 100%;-o-background-size:auto 100%;-webkit-background-size:auto 100%;background-size:auto 100%;background-position:50% 50%}}\n/* cache key: enwiki:resourceloader:filter:minify-css:7:f6d4e9ce35597f926a51e4ffa2209ec4 */"
]},{});mw.loader.implement("mobile.toast.styles",function(){},{"css":[
"#mf-notification,.drawer{ bottom:-2px;width:100%;background-color:#f3f3f3;box-shadow:0 -1px 8px 0 rgba(0,0,0,0.35);word-wrap:break-word;z-index:-1;display:none}#mf-notification.visible,.drawer.visible{z-index:5;display:block}.animations #mf-notification,.animations .drawer{display:block;bottom:-100px;opacity:0;-webkit-backface-visibility:hidden;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:0.2s;transition-duration:0.2s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.animations #mf-notification.visible,.animations .drawer.visible{opacity:1;-webkit-transform:translate3d(0,-98px,0);transform:translate3d(0,-98px,0)}#mf-notification{font-size:0.9em}#mf-notification.noButton button{display:none}#mf-notification.loading{background-position:23px 50%; -moz-background-size:32px auto;-o-background-size:32px auto;-webkit-background-size:32px auto;background-size:32px auto;padding:0 0 0 53px}#mf-notification.toast{left:10%;right:10%;padding:0;font-size:0.8em;background-color:#373737;color:white;margin:0 auto 20px auto;width:80%;text-align:center;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;box-shadow:0 0 1px 3px #373737}#mf-notification.toast button{display:none}#mf-notification.toast.error{background-image:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/common/images/error.png?2013-06-13T15:20:00Z);background-position:16px 50%;background-repeat:no-repeat;padding-left:5%;width:75%;border:none}#mf-notification.toast.locked button{display:block;top:0.8em;right:1.4em}#mf-notification.toast \u003E div{padding:0.8em 1.4em}#mf-notification \u003E div{position:relative;padding:16px 38px 18px 22px; }#mf-notification .mw-cite-backlink{display:none}#mf-notification button{top:22px;right:22px; width:16px;height:12px;background:url(//bits.wikimedia.org/static-1.22wmf7/extensions/MobileFrontend/stylesheets/common/../common/images/close-button-beta.png?2013-06-13T15:20:00Z) no-repeat scroll 0 0 transparent;margin:0;background-position:right center; -moz-background-size:auto 12px;-o-background-size:auto 12px;-webkit-background-size:auto 12px;background-size:auto 12px;cursor:pointer;position:absolute;text-indent:-999px;overflow:hidden;border:none}#mf-notification h3{margin:0;padding-right:4px;line-height:1em;display:inline}#mf-notification a:visited,#mf-notification a{color:#3354C0}#mf-notification p{line-height:1.2;margin:0 0 .5em}#mf-notification .progress-bar{margin:.9em 0 0}\n/* cache key: enwiki:resourceloader:filter:minify-css:7:7a31d79314a0af6bcc4622b9a8edec76 */"
]},{});mw.loader.implement("mobile.uploads.schema",function(){mediaWiki.eventLog.declareSchema("MobileWebUploads",{"schema":{"description":"Logs events related to the upload features on the Wikimedia mobile web","properties":{"token":{"type":"string","required":true,"description":"User token"},"action":{"type":"string","required":true,"enum":["preview","previewCancel","previewSubmit","cancel","success","error","whatDoesThisMean"],"description":"The actions involved in uploading a file on the mobile web. preview - view of the initial upload screen with preview. previewCancel - click on the cancel button after file has been selected and is previewed. previewSubmit - click on the upload button after the file has been selected and previewed. cancel - click on the cancel link aborting the upload. error - file does not upload and error message is displayed. success - user successfully uploads file."},"funnel":{"type":"string","required":true,"enum":["uploads","article","watchlist","nearby"],
"description":"Identifier for the upload funnel. uploads - user enters initial upload screen from the Uploads special page. article - user enters upload screen from an article."},"pageId":{"type":"integer","description":"ID of the referrer article in the articleCTA funnel, if available. (Will always be 0 for myUploads funnel)."},"username":{"type":"string","description":"Username for logged in user."},"isEditable":{"type":"boolean","description":"True if the referrer article the user is adding an image to is editable based on user privileges"},"mobileMode":{"type":"string","required":true,"enum":["stable","beta","alpha"],"description":"Whether the user is seeing the regular non-beta, beta, or alpha version of the mobile site."},"userAgent":{"type":"string","description":"Useragent string."},"errorText":{"type":"string","description":"Error message received by user (if applicable)."}}},"revision":5383883});},{},{});mw.loader.implement("mobile.watchlist.schema",function(){mediaWiki.
eventLog.declareSchema("MobileBetaWatchlist",{"schema":{"description":"Used to log watchlist star actions on Wikimedia mobile beta sites","properties":{"token":{"type":"string","required":true,"description":"Anonymized, persistent user token to ensure we can de-duplicate users."},"anon":{"type":"boolean","required":true,"description":"False if user has logged in."},"action":{"type":"string","required":true,"enum":["watchlist","unwatchlist","anonCTA"],"description":"watchlist - user taps an empty watchlist star and adds the article to their watchlist; unwatchlist - user taps a filled star on an article they've already watchlisted to remove from watchlist; anonCTA - logged out user taps empty watchlist star, which takes them to the login/create account page."},"articleID":{"type":"integer","description":"Internal ID (wgArticleId) of the article with which the user is tinkering"},"username":{"type":"string","description":"Username for logged in user."},"isStable":{"type":"string","enum":[
"stable","beta","alpha"],"description":"Whether the user is seeing the regular non-beta, beta, or alpha version of the mobile site."}}},"revision":5281061});},{},{});mw.loader.implement("mobile.zero.scripts",function(){(function(M,$){var m=(function(){function initBanner(banner){var cookieNameZeroVisibility=banner.getAttribute('id'),settings=M.settings,saveUserSetting=settings.saveUserSetting,getUserSetting=settings.getUserSetting,visibility,dismissNotification=banner.getElementsByTagName('button')[0];if(dismissNotification){visibility=getUserSetting(cookieNameZeroVisibility);if(visibility==='off'){banner.style.display='none';}dismissNotification.onclick=function(){banner.parentNode.removeChild(banner);saveUserSetting(cookieNameZeroVisibility,'off','zeroRatedBannerVisibility'===cookieNameZeroVisibility);};}}function init(){if($){$('.mw-mf-banner').each(function(){if($(this).find('button.notify-close').length===0&&!$(this).hasClass('mw-mf-banner-undismissable')){$(
'<button class="notify-close">').text('').appendTo(this);}initBanner(this);});}}return{init:init,initBanner:initBanner};}());M.define('banner',m);}(mw.mobileFrontend,jQuery));;},{},{});mw.loader.implement("schema.Edit",function(){mediaWiki.eventLog.declareSchema("Edit",{"schema":{"description":"Logs generic events related to editing activity. All events are logged client-side.","properties":{"version":{"type":"integer","required":true,"description":"Version number. This field can be used to track changes in instrumentation that affect the nature of the data collected."},"action":{"type":"string","required":true,"enum":["edit-link-click","section-edit-link-click","page-edit-impression","page-save-attempt","page-save-success"],"description":
"The actions involved in an attempt to edit a page:\n\nedit-link-click: Click on the page-level [Edit] tab\n\nsection-edit-link-click: Click on a section-level [edit] link.\n\npage-edit-impression: The edit screen is loaded (the UI loaded is specified via the editor field). Not logged again on impressions of the preview screen. Does *not* log if the user opens a protected page, e.g. by clicking on [View source]\n\npage-save-attempt: Logs an attempt to save the page as the user clicks on the [Save page] button, before we know if it succeeded.\n\npage-save-success - Logs a successful page save via post-edit status on the client-side."},"latency":{"type":"integer","description":"Latency measurement (in milliseconds) associated with action. TODO: Clarify what this means for each action"},"editor":{"type":"string","enum":["visualeditor","wikitext"],"required":true,"description":"The Interface through which the user is attempting to edit the page."},"pageId":{"type":"integer","description":
"ID of the page the user is attempting to edit, if available."},"pageNs":{"type":"integer","description":"Namespace ID of the page the user is attempting to edit."},"pageName":{"type":"string","description":"Full title of the page the user is attempting to edit, including namespace (wgPageName format). This is needed to log edit activity on redlinks where pageId and revId are not available."},"pageViewSessionId":{"type":"string","required":true,"description":"A string of 32 alphanumeric characters, unique to the current page view session; used for grouping events."},"revId":{"type":"integer","description":"Current revision of the page the user is currently attempting to edit, if available.\n\nFor page-save-attempt, it is the old revId for the page, since it is not yet known whether the edit will succeed.\n\nIs updated to the latest revision for action=page-save-success events."},"userId":{"type":"integer","required":true,"description":"The user's user ID, or '0' if not logged in."}}},
"revision":5570274});},{},{});mw.loader.implement("schema.NavigationTiming",function(){mediaWiki.eventLog.declareSchema("NavigationTiming",{"schema":{"description":"Represents a set of client-side latency measurements provided by NavigationTiming API","properties":{"userAgent":{"type":"string","description":"Browser's user-agent string","required":true},"isAnon":{"type":"boolean","description":"True if the user was anonymous; false if logged in.","required":true},"mobileMode":{"type":"string","enum":["alpha","beta","stable"],"description":"If in mobile view, specifies the mobile mode. Absent otherwise."},"isHttps":{"type":"boolean","description":"True if request was secure (i.e., used HTTPS)."},"redirectCount":{"type":"integer","description":"Number of times the document request was redirected"},"originCountry":{"type":"string","description":"Country in which request originated, based on GeoIP look-up."},"dnsLookup":{"type":"integer","description":
"Time it took to resolve names (domainLookupEnd - domainLookupStart)"},"connecting":{"type":"integer","description":"Time it took to establish a connection to the server (connectEnd - connectStart)"},"sending":{"type":"integer","description":"Time from start of navigation to start of fetch (fetchStart - navigationStart)"},"waiting":{"type":"integer","description":"Time from immediately before browser started request to first byte of response (responseStart - requestStart)"},"redirecting":{"type":"integer","description":"Time spent following redirects"},"receiving":{"type":"integer","description":"Time from first byte of response to last (responseEnd - responseStart)"},"rendering":{"type":"integer","description":"Time from immediately after the last byte was sent to the page fully loading (loadEventEnd - responseEnd)"},"loading":{"type":"integer","description":"Time from start of navigation until just before firing of 'onload' event (loadEventStart - navigationStart)"},"pageId":{"type":
"integer","description":"`page_id` of requested page. Unset for special pages."},"revId":{"type":"integer","description":"Revision ID of requested page. Unset for special pages."},"action":{"type":"string","description":"Value of 'wgAction': view', 'submit', 'history', etc. Unset for special pages."}}},"revision":5336845});},{},{});
/* cache key: enwiki:resourceloader:filter:minify-js:7:971b700747170adf762864eaa30363a1 */